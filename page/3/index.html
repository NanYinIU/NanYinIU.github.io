<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-bounce.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="NanYinçš„åšå®¢" type="application/atom+xml">






<meta name="description" content="Was mich nicht umbringt, macht mich starker.">
<meta name="keywords" content="æŠ€æœ¯ ç”Ÿæ´»">
<meta property="og:type" content="website">
<meta property="og:title" content="NanYinçš„åšå®¢">
<meta property="og:url" content="https://nanyiniu.github.io/page/3/index.html">
<meta property="og:site_name" content="NanYinçš„åšå®¢">
<meta property="og:description" content="Was mich nicht umbringt, macht mich starker.">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="NanYinçš„åšå®¢">
<meta name="twitter:description" content="Was mich nicht umbringt, macht mich starker.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://nanyiniu.github.io/page/3/">





  <title>NanYinçš„åšå®¢</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
<a href="https://github.com/NanYinIU" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">NanYinçš„åšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">è®°å½•ç”Ÿæ´»ç‚¹æ»´</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="æœç´¢..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nanyiniu.github.io/2019/06/26/2019-06-26-PlantUMLç±»å›¾ä½¿ç”¨æ€»ç»“/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NanYin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618233250.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NanYinçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/26/2019-06-26-PlantUMLç±»å›¾ä½¿ç”¨æ€»ç»“/" itemprop="url">PlantUMLç±»å›¾ä½¿ç”¨æ€»ç»“</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-26T12:00:00Z">
                2019-06-26
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å·¥å…·/" itemprop="url" rel="index">
                    <span itemprop="name">å·¥å…·</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  1.1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ä½¿ç”¨PlantUMLç»˜åˆ¶ç±»å›¾"><a href="#ä½¿ç”¨PlantUMLç»˜åˆ¶ç±»å›¾" class="headerlink" title="ä½¿ç”¨PlantUMLç»˜åˆ¶ç±»å›¾"></a>ä½¿ç”¨PlantUMLç»˜åˆ¶ç±»å›¾</h1><p>æœ¬æ–‡åŸºäºPlantUMLå®˜ç½‘<a href="http://plantuml.com/zh/class-diagram" target="_blank" rel="noopener">ç»˜åˆ¶ç±»å›¾</a>å’Œç›¸å…³å¦‚ä½•æ­£ç¡®umlç±»å›¾ç›¸å…³æ–‡ç« ã€‚</p>
<h2 id="ä¸ºä»€ä¹ˆä½¿ç”¨plantUml"><a href="#ä¸ºä»€ä¹ˆä½¿ç”¨plantUml" class="headerlink" title="ä¸ºä»€ä¹ˆä½¿ç”¨plantUml"></a>ä¸ºä»€ä¹ˆä½¿ç”¨plantUml</h2><p>åŸå› å¾ˆç®€å•ï¼Œä¸ç”¨è‡ªå·±è€ƒè™‘æ„å›¾ï¼Œåƒå†™ä»£ç ä¸€æ ·å†™å‡ºæ¥ï¼Œå›¾å‡ºæ¥æ—¢ç¾è§‚åˆèƒ½å¤Ÿç¬¦åˆé€»è¾‘ã€‚</p>
<h2 id="åŸºæœ¬ç±»æ„æˆ"><a href="#åŸºæœ¬ç±»æ„æˆ" class="headerlink" title="åŸºæœ¬ç±»æ„æˆ"></a>åŸºæœ¬ç±»æ„æˆ</h2><h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190626150930.png" alt="åŸºæœ¬ç±»æ„æˆ"></p>
<p>ä½¿ç”¨<code>class</code>å…³é”®å­—æ„ä»¶ç±»ï¼ŒåŒç†å…¶ä»–å…³é”®å­—ã€‚å¦‚<code>interface</code>,<code>enum</code>ã€‚</p>
<p>åœ¨ç±»ä¸­ä½¿ç”¨ <code>- # +</code> åˆ†åˆ«å¯¹åº”è¡¨ç¤ºç±»ä¸­çš„<code>private</code>,<code>protected</code>,<code>public</code>ã€‚å¦‚æœåœ¨ç±»ä¸­ä½¿ç”¨ <code>static</code>ã€<code>abstract</code>å…³é”®å­—ï¼Œéœ€è¦ä½¿ç”¨å¤§æ‹¬å·åŒ…è£¹èµ·æ¥ã€‚</p>
<p><strong>å¤‡æ³¨</strong>ä½¿ç”¨<code>note</code>æ¥å®ç°ï¼Œå¯ä»¥ä½¿ç”¨jsä¼˜åŒ–å¤‡æ³¨çš„æ ·å¼,å…·ä½“å¯ä»¥å‚è€ƒä¸‹é¢çš„ä»£ç ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">@startuml</span><br><span class="line">&apos; ç®€å•å®šä¹‰ç±»A</span><br><span class="line">class classA</span><br><span class="line">&apos;å®šä¹‰ç±»B</span><br><span class="line">class classB&#123;</span><br><span class="line">    -&#123;static&#125; STATIC:Type</span><br><span class="line">    -a:A</span><br><span class="line">    #b:B</span><br><span class="line">    +c:C</span><br><span class="line">    +hello():void</span><br><span class="line">    -word():void</span><br><span class="line">&#125;</span><br><span class="line">&apos;æŠ½è±¡ç±»C</span><br><span class="line">abstract class classC &#123;</span><br><span class="line">    + &#123;abstract&#125; method1:void</span><br><span class="line">&#125;</span><br><span class="line">&apos;å¤‡æ³¨</span><br><span class="line">note right: note on right</span><br><span class="line">note top of classA : note on top</span><br><span class="line">&apos; å¤æ‚å¤‡æ³¨</span><br><span class="line">note top of object</span><br><span class="line">In java, &lt;size:18&gt;every&lt;/size&gt; &lt;u&gt;class&lt;/u&gt;&lt;b&gt;extends&lt;/b&gt;&lt;i&gt;this&lt;/i&gt; one.</span><br><span class="line">end note</span><br><span class="line">@enduml</span><br></pre></td></tr></table></figure>

<h3 id="ç±»æ›´å¤šä½¿ç”¨"><a href="#ç±»æ›´å¤šä½¿ç”¨" class="headerlink" title="ç±»æ›´å¤šä½¿ç”¨"></a>ç±»æ›´å¤šä½¿ç”¨</h3><p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190626144335.png" alt="å¤æ‚"></p>
<p>æ›´å¤æ‚ä¸€äº›çš„ç±»çš„æ„ä»¶å‚è€ƒä¸Šå›¾ã€‚</p>
<p>ä½¿ç”¨<code>__å†…å®¹__</code>æ¥è¡¨ç¤ºåˆ†å‰²çº¿ï¼Œå¯¹ä¸åŒç±»å‹çš„è¿›è¡Œåˆ†å‰²ã€‚åœ¨ç±»åååŠ <code>&lt;? extends xxx&gt;</code> è¡¨ç¤ºèŒƒå‹,å‚è€ƒä¸‹é¢ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@startuml</span><br><span class="line">class classC &lt;&lt;Serializable&gt;&gt; &#123;</span><br><span class="line">__variable__</span><br><span class="line">    -a:A</span><br><span class="line">    #b:B</span><br><span class="line">    +c:C</span><br><span class="line">__methods__</span><br><span class="line">    +hello():void</span><br><span class="line">    -word():void</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class classD &lt;? extends List&gt;&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">@enduml</span><br></pre></td></tr></table></figure>

<h3 id="å…³ç³»è¡¨ç¤º"><a href="#å…³ç³»è¡¨ç¤º" class="headerlink" title="å…³ç³»è¡¨ç¤º"></a>å…³ç³»è¡¨ç¤º</h3><h4 id="ç»§æ‰¿ä¸å®ç°"><a href="#ç»§æ‰¿ä¸å®ç°" class="headerlink" title="ç»§æ‰¿ä¸å®ç°"></a>ç»§æ‰¿ä¸å®ç°</h4><p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190626144700.png" alt="ç»§æ‰¿ä¸å®ç°"></p>
<p>ç»§æ‰¿æŒ‡çš„å°±æ˜¯<strong>æ³›åŒ–</strong>ï¼Œå¦‚å›¾ä¸­å·¦è¡¨ç¤ºä¸€æ ·ï¼Œç±»Aç»§æ‰¿äºBï¼Œç”±å­ç±»å®ç°çˆ¶ç±»çš„è¡Œä¸ºã€‚æ³›åŒ–ä½¿ç”¨å¸¦<strong>å¤§ä¸‰è§’ç®­å¤´å’Œå®çº¿</strong>æ¥è¡¨ç¤ºï¼Œè¡¨ç¤ºä¸€ç§ç»§æ‰¿å…³ç³»ã€‚</p>
<p><strong>å®ç°</strong>æŒ‡çš„æ˜¯ç‰¹å®šç±»å®ç°æ¥å£ï¼Œå¦‚å›¾ä¸­å³è¡¨ç¤ºä¸€æ ·ï¼Œç±»<code>implement</code>å®ç°<code>interface</code>,è¡¨ç¤ºå®ç°ç±»å®ç°æ¥å£ç±»çš„å…³ç³»ã€‚åŒæ ·ä¼šç”±å­ç±»å®ç°æ¥å£ç±»ä¸­çš„è¡Œä¸ºã€‚å®ç°ä½¿ç”¨å¸¦<strong>å¤§ä¸‰è§’çš„ç®­å¤´å’Œè™šçº¿</strong>æ¥å®ç°ã€‚</p>
<p>æ— è®ºæ˜¯ç»§æ‰¿è¿˜æ˜¯å®ç°ï¼Œç®­å¤´éƒ½æ‰§è¡Œå¤«ç±»ï¼Œä¹Ÿå°±æ˜¯è¢«å®ç°ç±»ã€‚</p>
<h4 id="ä¾èµ–ä¸å…³è”"><a href="#ä¾èµ–ä¸å…³è”" class="headerlink" title="ä¾èµ–ä¸å…³è”"></a>ä¾èµ–ä¸å…³è”</h4><p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190626160514.png" alt="ä¾èµ–ä¸å…³è”"></p>
<p>ä½¿ç”¨plantUMLä»£ç å®ç°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">@startuml</span><br><span class="line">&apos;ä¾èµ–ä¸å…³è”</span><br><span class="line">Class X</span><br><span class="line">&apos; ä¾èµ–å…³ç³»</span><br><span class="line">X ..&gt; Y :&quot;ä¾èµ–å…³ç³»&quot;</span><br><span class="line"></span><br><span class="line">class A</span><br><span class="line">&apos; å•å‘å…³è” Aå…³è”B</span><br><span class="line">A--&gt; B :&quot;å•å‘å…³è”&quot;</span><br><span class="line">&apos; åŒå‘å…³è”</span><br><span class="line">class C</span><br><span class="line">C --  D : &quot;åŒå‘å…³è”&quot;</span><br><span class="line">&apos; è‡ªå…³è”</span><br><span class="line">class F</span><br><span class="line">F --&gt; F:&quot;è‡ªå…³è”&quot;</span><br><span class="line">&apos; èšåˆå…³ç³»</span><br><span class="line">class G &#123;</span><br><span class="line">List&lt;H&gt; h</span><br><span class="line">&#125;</span><br><span class="line">G &quot;n&quot; o-- &quot;1&quot; H : &quot;ç»„åˆå…³ç³»&quot;</span><br><span class="line">&apos; ç»„åˆå…³ç³»</span><br><span class="line">class K &#123;</span><br><span class="line">List&lt;L&gt; l</span><br><span class="line">&#125;</span><br><span class="line">K &quot;n&quot;*--&quot;1&quot; L :&quot;èšåˆå…³ç³»&quot;</span><br><span class="line">@enduml</span><br></pre></td></tr></table></figure>

<h5 id="ä¸€ã€ä¾èµ–å…³ç³»"><a href="#ä¸€ã€ä¾èµ–å…³ç³»" class="headerlink" title="ä¸€ã€ä¾èµ–å…³ç³»"></a>ä¸€ã€ä¾èµ–å…³ç³»</h5><p>ä¾èµ–æ˜¯ä¸€ç§ä½¿ç”¨çš„å…³ç³»ï¼Œä»£ç ä¸­ä½“ç°åˆ°ä¾èµ–çš„å…³ç³»çš„æƒ…å†µ:<code>å±€éƒ¨å˜é‡</code>ã€<code>æ–¹æ³•çš„å‚æ•°æˆ–è€…å¯¹é™æ€æ–¹æ³•çš„è°ƒç”¨</code>,ä¾èµ–æ˜¯æœ€å¼±çš„ä¸€ç§å…³è”ã€‚ä¾èµ–å…³ç³»ä½¿ç”¨è™šçº¿å’Œæ™®é€šçš„å°ç®­å¤´æ¥å®ç°ï¼Œç®­å¤´æŒ‡å‘è¢«ä¾èµ–çš„å¯¹è±¡ã€‚å¦‚å›¾ä¸­çš„xä¾èµ–yä¸€æ ·ï¼Œæ‰€ä»¥æŒ‡å‘y,è¿™ä¸ªè¢«xä¾èµ–çš„å¯¹è±¡ã€‚</p>
<h5 id="äºŒã€å…³è”å…³ç³»"><a href="#äºŒã€å…³è”å…³ç³»" class="headerlink" title="äºŒã€å…³è”å…³ç³»"></a>äºŒã€å…³è”å…³ç³»</h5><p>å…³è”æ˜¯æ‹¥æœ‰çš„å…³ç³»ï¼Œå¦‚ç©å®¶ä¸æ¸¸æˆä¸­çš„è§’è‰²ä¸€æ ·ã€‚å…³è”å¯èƒ½æ˜¯å•å‘çš„ï¼Œä¹Ÿå¯èƒ½æ˜¯åŒå‘çš„ï¼Œä¹ŸåŒæ ·èƒ½å¤Ÿè‡ªå·±å…³è”è‡ªå·±ã€‚ä»£ç ä¸­ä½“ç°åˆ°å…³è”çš„å…³ç³»çš„æƒ…å†µï¼š<code>æˆå‘˜å˜é‡</code>ã€‚å…³è”å…³ç³»ä½¿ç”¨å®çº¿å’Œå°å°–å¤´æ¥å®ç°ï¼Œç®­å¤´æŒ‡å‘è¢«å…³è”çš„å¯¹è±¡ã€‚</p>
<h5 id="ä¸‰ã€ç»„åˆå…³ç³»"><a href="#ä¸‰ã€ç»„åˆå…³ç³»" class="headerlink" title="ä¸‰ã€ç»„åˆå…³ç³»"></a>ä¸‰ã€ç»„åˆå…³ç³»</h5><p>ç»„åˆå…³ç³»æ˜¯<code>æ•´ä½“ä¸éƒ¨åˆ†</code>çš„å…³ç³»ï¼Œä½†æ˜¯å¦‚æœæ•´ä½“ä¸å­˜åœ¨ï¼Œé‚£éƒ¨åˆ†ä¹Ÿä¸èƒ½å­˜åœ¨ã€‚å°±å¦‚åŒå…¬å¸ä¸éƒ¨é—¨ä¸€æ ·ï¼Œå…¬å¸è§£æ•£äº†ï¼Œéƒ¨é—¨ä¹Ÿå°±ä¸å­˜åœ¨äº†ã€‚å’Œå…³è”å…³ç³»ç›¸åŒï¼Œåœ¨ä»£ç ä¸­çš„ä½“ç°ä¹Ÿæ˜¯<code>æˆå‘˜å˜é‡</code>ã€‚ç»„åˆå…³ç³»ä½¿ç”¨ç©ºå¿ƒçš„è±å½¢å’Œå®çº¿æ¥è¡¨ç¤ºã€‚</p>
<h5 id="å››ã€èšåˆå…³ç³»"><a href="#å››ã€èšåˆå…³ç³»" class="headerlink" title="å››ã€èšåˆå…³ç³»"></a>å››ã€èšåˆå…³ç³»</h5><p>èšåˆå…³ç³»æ˜¯<code>æ•´ä½“ä¸éƒ¨åˆ†</code>çš„å…³ç³»ï¼Œä½†æ˜¯å’Œç»„åˆå…³ç³»ä¸åŒçš„æ˜¯ï¼Œèšåˆå…³ç³»ä¸­çš„<code>éƒ¨åˆ†</code>å¯ä»¥è„±ç¦»æ•´ä½“è€Œå­˜åœ¨ï¼Œå°±å¦‚åŒéº¦å½“åŠ³ä¸­çš„å¥—é¤ä¸æ±‰å ¡ä¸€æ ·ã€‚åœ¨ä»£ç ä¸­çš„ä½“ç°åŒæ ·æ˜¯<code>æˆå‘˜å˜é‡</code>ã€‚èšåˆå…³ç³»ä½¿ç”¨å®å¿ƒçš„è±å½¢å’Œå®çº¿æ¥è¡¨ç¤ºã€‚</p>
<p>æ‰€ä»¥å¯ä»¥è¯´èšåˆå…³ç³»å’Œç»„åˆå…³ç³»æ˜¯å…³ç³»æ›´åŠ ç¡®å®šï¼Œæ›´åŠ ç´§å¯†çš„å…³è”å…³ç³»ã€‚</p>
<h5 id="å„å…³ç³»çš„å¼ºå¼±é¡ºåº"><a href="#å„å…³ç³»çš„å¼ºå¼±é¡ºåº" class="headerlink" title="å„å…³ç³»çš„å¼ºå¼±é¡ºåº"></a>å„å…³ç³»çš„å¼ºå¼±é¡ºåº</h5><blockquote>
<p>æ³›åŒ–= å®ç°&gt; ç»„åˆ&gt; èšåˆ&gt; å…³è”&gt; ä¾èµ–</p>
</blockquote>
<p>PlantUMLæ”¯æŒæ›´å¤šçš„æ›´å¤æ‚çš„æƒ…æ™¯ä¸‹çš„å›¾å½¢ç»˜åˆ¶ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹<a href="http://plantuml.com/zh/index" target="_blank" rel="noopener">PlantUMLçš„ä¸­æ–‡ç½‘ç«™</a>ã€‚</p>

          
        
      
    </div>
    
    
    

    <div>
      
    </div>
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nanyiniu.github.io/2019/06/25/2019-06-25-è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NanYin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618233250.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NanYinçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/25/2019-06-25-è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼/" itemprop="url">è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-25T12:00:00Z">
                2019-06-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/è®¾è®¡æ¨¡å¼/" itemprop="url" rel="index">
                    <span itemprop="name">è®¾è®¡æ¨¡å¼</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  647
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼ğŸ“•"><a href="#è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼ğŸ“•" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼ğŸ“•"></a>è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼ğŸ“•</h1><p>ä¸è¿åå°è£…çš„æƒ…å†µä¸‹ï¼Œæ•è·å¹¶å¤–åŒ–å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œä»¥ä¾¿ç¨åå¯ä»¥å°†å¯¹è±¡æ¢å¤åˆ°æ­¤çŠ¶æ€ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p>å¿…é¡»ä¿å­˜å¯¹è±¡çŠ¶æ€çš„å¿«ç…§ï¼Œä»¥ä¾¿ä»¥åå¯ä»¥å°†å…¶æ¢å¤åˆ°è¯¥çŠ¶æ€</p>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p>æ¨¡å¼ç»“æ„åˆ†ä¸ºä¸‰ç§ç»“æ„ï¼š</p>
<ol>
<li><strong>å‘èµ·äºº (Originator)</strong><br>è´Ÿè´£åˆ›å»ºä¸€ä¸ªæœ‰å†…éƒ¨çŠ¶æ€çš„å¤‡å¿˜å½•å¯¹è±¡ã€‚</li>
<li><strong>è´Ÿè´£äºº (Caretaker)</strong><br>è´Ÿè´£ä¿å­˜å¤‡å¿˜å½•å†…å®¹ï¼Œä½†æ˜¯ä¸æ£€æŸ¥å¤‡å¿˜å½•çš„å†…å®¹ã€‚</li>
<li><strong>å¤‡å¿˜å½• (Memento)</strong><br>ä¿å­˜å‘èµ·äººçš„å†…éƒ¨çš„çŠ¶æ€ã€‚</li>
</ol>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190625232202.png" alt="æ¨¡å¼ç»“æ„"></p>
<p>ä¸Šå›¾ä¸­çš„ActionGameä¸ºè´Ÿè´£äººï¼Œè´Ÿè´£ä¿å­˜çŠ¶æ€ï¼ŒPlayerä¸ºå‘èµ·äººè´Ÿè´£ä¸»åŠ¨è®°å½•å¤‡å¿˜å½•ã€‚</p>
<h3 id="å®é™…åœºæ™¯"><a href="#å®é™…åœºæ™¯" class="headerlink" title="å®é™…åœºæ™¯"></a>å®é™…åœºæ™¯</h3><p>åœ¨ç©å•æœºæ¸¸æˆçš„æ—¶å€™ï¼Œåœ¨é€šè¿‡ä¸€ä¸ªå…³å¡çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè®°å½•ä½ å½“æ—¶çš„çŠ¶æ€ä¿¡æ¯ï¼Œå¦‚æœä¸‹ä¸€å…³æ²¡é€šè¿‡ï¼Œä¼šè‡ªåŠ¨è¿˜åŸåˆ°ä¸Šä¸€ä¸ªè®°å½•ç‚¹ä»æ–°å¼€å§‹ã€‚è¿™ç§æƒ…å†µä¸‹å°±å¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼è®°å½•å­˜æ¡£çŠ¶æ€ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶å€™è¿˜åŸçŠ¶æ€ã€‚é’ˆå¯¹æ­¤å¤„åœºæ™¯ï¼Œä½¿ç”¨ä¸‹é¢ä»£ç è¿˜åŸã€‚</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><h3 id="ä½œä¸ºå‘èµ·è€…çš„Player"><a href="#ä½œä¸ºå‘èµ·è€…çš„Player" class="headerlink" title="ä½œä¸ºå‘èµ·è€…çš„Player"></a>ä½œä¸ºå‘èµ·è€…çš„Player</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ¸¸æˆçŠ¶æ€</span></span><br><span class="line">    <span class="keyword">private</span> GameState gameState;</span><br><span class="line"></span><br><span class="line">    Player(GameState gameState) &#123;</span><br><span class="line">        <span class="keyword">this</span>.gameState = gameState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®çŠ¶æ€</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setGameState</span><span class="params">(GameState gameState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.gameState = gameState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–çŠ¶æ€</span></span><br><span class="line">    <span class="function">GameState <span class="title">getGameState</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> gameState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºå­˜æ¡£è®°å½•</span></span><br><span class="line">    <span class="function">Memento <span class="title">createMemento</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Memento(gameState);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å›é€€å­˜æ¡£è®°å½•</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">retrieveMemento</span><span class="params">(Memento memento)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.gameState = memento.getGameState();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½œä¸ºè´Ÿè´£äººçš„ActionGame"><a href="#ä½œä¸ºè´Ÿè´£äººçš„ActionGame" class="headerlink" title="ä½œä¸ºè´Ÿè´£äººçš„ActionGame"></a>ä½œä¸ºè´Ÿè´£äººçš„ActionGame</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Game</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">storeGamePoint</span><span class="params">(Memento memento)</span></span>;</span><br><span class="line">    <span class="function">Memento <span class="title">retrieveGamePoint</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActionGame</span> <span class="keyword">implements</span> <span class="title">Game</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Memento memento;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­˜æ¡£è®°å½•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Author</span> nanyin</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Date</span> 17:31 2019-06-26</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> memento 1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">storeGamePoint</span><span class="params">(Memento memento)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.memento = memento;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿˜åŸè®°å½•ç‚¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Author</span> nanyin</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Date</span> 17:32 2019-06-26</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Memento</span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Memento <span class="title">retrieveGamePoint</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.memento;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½œä¸ºå¤‡å¿˜å½•çš„Memento"><a href="#ä½œä¸ºå¤‡å¿˜å½•çš„Memento" class="headerlink" title="ä½œä¸ºå¤‡å¿˜å½•çš„Memento"></a>ä½œä¸ºå¤‡å¿˜å½•çš„Memento</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Memento</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> GameState gameState;</span><br><span class="line">    Memento(GameState gameState) &#123;</span><br><span class="line">        <span class="keyword">this</span>.gameState = gameState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">GameState <span class="title">getGameState</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> gameState;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> GameState &#123;</span><br><span class="line">    DIE,SUCCESS</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®¢æˆ·ç«¯ç¨‹åº"><a href="#å®¢æˆ·ç«¯ç¨‹åº" class="headerlink" title="å®¢æˆ·ç«¯ç¨‹åº"></a>å®¢æˆ·ç«¯ç¨‹åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªåŠ¨ä½œç±»å‹çš„æ¸¸æˆ</span></span><br><span class="line">        Game actionGame = <span class="keyword">new</span> ActionGame();</span><br><span class="line">        <span class="comment">//ç©å®¶é€šå…³</span></span><br><span class="line">        Player player = <span class="keyword">new</span> Player(GameState.SUCCESS);</span><br><span class="line">        <span class="comment">//å­˜æ¡£</span></span><br><span class="line">        Memento memento = player.createMemento();</span><br><span class="line">        actionGame.storeGamePoint(memento);</span><br><span class="line">        <span class="comment">//æ­¤æ—¶ç©å®¶é˜µäº¡</span></span><br><span class="line">        player.setGameState(GameState.DIE);</span><br><span class="line">        System.out.println(player.getGameState());</span><br><span class="line">        <span class="comment">//éœ€è¦ä»ä¸Šä¸€æ¬¡æ¸¸æˆå­˜æ¡£ä¸­åŠ è½½åŸæ¥çš„ç©å®¶çŠ¶æ€</span></span><br><span class="line">        player.retrieveMemento(actionGame.retrieveGamePoint());</span><br><span class="line">        System.out.println(player.getGameState());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ¸¸æˆå­˜æ¡£åæ­»äº¡ï¼Œå†é‡å¤è¯»å­˜æ¡£ï¼Œå¾—åˆ°ä¹‹å‰å­˜æ¡£ä¹‹å‰çš„çŠ¶æ€ã€‚æ¸¸æˆä¸ä¼šä¸»åŠ¨å­˜æ¡£å’Œè¯»å–å­˜æ¡£ï¼Œåªä¼šè®°å½•å­˜æ¡£ä¸­çš„å†…å®¹ï¼Œè€Œç©å®¶ä¼šä¸»åŠ¨ä»æ¸¸æˆä¸­è¯»å–å­˜æ¡£ï¼Œç„¶åæ¢å¤åˆ°å­˜æ¡£çš„çŠ¶æ€ã€‚</p>

          
        
      
    </div>
    
    
    

    <div>
      
    </div>
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nanyiniu.github.io/2019/06/19/2019-06-19-è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NanYin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618233250.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NanYinçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/19/2019-06-19-è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼/" itemprop="url">è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-19T12:00:00Z">
                2019-06-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/è®¾è®¡æ¨¡å¼/" itemprop="url" rel="index">
                    <span itemprop="name">è®¾è®¡æ¨¡å¼</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  575
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼</h1><p>çŠ¶æ€æ¨¡å¼æ˜¯å¯¹è±¡çš„è¡Œä¸ºæ¨¡å¼ã€‚çŠ¶æ€æ¨¡å¼å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜çš„æ—¶å€™æ”¹å˜å…¶è¡Œä¸ºã€‚è¿™ä¸ªå¯¹è±¡çœ‹ä¸Šå»å°±åƒæ˜¯æ”¹å˜äº†å®ƒçš„ç±»ä¸€æ ·ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ul>
<li>å¯¹è±¡çš„è¡Œä¸ºå–å†³äºå…¶çŠ¶æ€ï¼Œå¹¶ä¸”å¿…é¡»æ ¹æ®è¯¥çŠ¶æ€åœ¨è¿è¡Œæ—¶æ›´æ”¹å…¶è¡Œä¸ºã€‚</li>
<li>é€šå¸¸ï¼Œå‡ ä¸ªæ“ä½œå°†åŒ…å«ç›¸åŒçš„æ¡ä»¶ç»“æ„ã€‚Stateæ¨¡å¼å°†æ¡ä»¶çš„æ¯ä¸ªåˆ†æ”¯æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„ç±»ä¸­ã€‚å¯ä»¥å°†å¯¹è±¡çš„çŠ¶æ€è§†ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå¯ä»¥ç‹¬ç«‹äºå…¶ä»–å¯¹è±¡è€Œå˜åŒ–</li>
</ul>
<p>æ¦‚æ‹¬æ¥è¯´ï¼ŒçŠ¶æ€æ¨¡å¼å°†è¡Œä¸ºåŒ…è£…åˆ°å…·ä½“çš„çŠ¶æ€å¯¹è±¡ä¸­ã€‚æ¯ä¸ªçŠ¶æ€å¯¹è±¡æ˜¯æŠ½è±¡çŠ¶æ€çš„å­ç±»ã€‚çŠ¶æ€æ¨¡å¼æ„å›¾æ˜¯åœ¨æ”¹å˜å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€çš„æ—¶å€™ï¼Œè¡Œä¸ºéšä¹‹æ”¹å˜ã€‚</p>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p>çŠ¶æ€æ¨¡å¼åˆ†ä¸ºä¸‰ç§ç»“æ„ï¼šç¯å¢ƒè§’è‰²ã€æŠ½è±¡çŠ¶æ€è§’è‰²ã€å…·ä½“çŠ¶æ€è§’è‰²</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618203143.png" alt="çŠ¶æ€æ¨¡å¼ç»“æ„å›¾"></p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>ç”µç¯æœ‰ä¸¤ç§åŸºæœ¬è¡Œä¸º å¼€å¯ã€å…³é—­ã€‚ä½†æ˜¯æœ‰ä¸¤ä¸ªçŠ¶æ€ï¼Œæ­£å¸¸å’Œåæ‰çš„çŠ¶æ€ã€‚å°†å…±åŒçš„è¡Œä¸ºå°è£…åˆ°ç»Ÿä¸€çš„çŠ¶æ€æ¥å£ä¸­ï¼Œå†æ ¹æ®ä¸åŒçš„çŠ¶æ€ï¼Œåˆ›å»ºå­ç±»å®Œæˆä¸åŒçŠ¶æ€å½¢æˆä¸åŒçš„è¡Œä¸ºã€‚</p>
<p>ç¯å†æ­£å¸¸çŠ¶æ€ä¸‹èƒ½å¤Ÿæ­£å¸¸å¼€å¯ï¼Œæ­£å¸¸å…³é—­ã€‚ç­‰åœ¨åæ‰çš„çŠ¶æ€ä¸‹ï¼Œä¸èƒ½å¼€å¯å’Œå…³é—­ã€‚çŠ¶æ€æ¨¡å¼å°±æ˜¯æ ¹æ®è¿™ä¸ªé€»è¾‘æŠ½ç¦»è¡Œä¸ºï¼Œå°†å…·ä½“è¡Œä¸ºåŒ…è£…åˆ°å…·ä½“çŠ¶æ€å¯¹è±¡ä¸­ã€‚</p>
<h3 id="æŠ½è±¡çŠ¶æ€è§’è‰²"><a href="#æŠ½è±¡çŠ¶æ€è§’è‰²" class="headerlink" title="æŠ½è±¡çŠ¶æ€è§’è‰²"></a>æŠ½è±¡çŠ¶æ€è§’è‰²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">open</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">close</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…·ä½“çŠ¶æ€è§’è‰²"><a href="#å…·ä½“çŠ¶æ€è§’è‰²" class="headerlink" title="å…·ä½“çŠ¶æ€è§’è‰²"></a>å…·ä½“çŠ¶æ€è§’è‰²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NormalState</span> <span class="keyword">implements</span> <span class="title">State</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">open</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ç”µç¯å¼€äº†ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ç”µç¯å…³äº†ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErrorState</span> <span class="keyword">implements</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">open</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ç”µç¯å¼€ä¸äº†ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ç”µç¯å…³ä¸äº†ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¯å¢ƒè§’è‰²"><a href="#ç¯å¢ƒè§’è‰²" class="headerlink" title="ç¯å¢ƒè§’è‰²"></a>ç¯å¢ƒè§’è‰²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Context</span> </span>&#123;</span><br><span class="line">    <span class="comment">//çŠ¶æ€å‚æ•°</span></span><br><span class="line">    State state;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Context</span><span class="params">(State state)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">requestToOpen</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        state.open();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">requestToClose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        state.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//çŠ¶æ€å˜åŒ–</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">changeStageTo</span><span class="params">(State state)</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®¢æˆ·ç«¯æµ‹è¯•"><a href="#å®¢æˆ·ç«¯æµ‹è¯•" class="headerlink" title="å®¢æˆ·ç«¯æµ‹è¯•"></a>å®¢æˆ·ç«¯æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Context context = <span class="keyword">new</span> Context(<span class="keyword">new</span> NormalState());</span><br><span class="line">        context.requestToOpen();</span><br><span class="line">        context.requestToClose();</span><br><span class="line">        <span class="comment">//å°†çŠ¶æ€å˜æ›´ä¸ºåçš„çŠ¶æ€</span></span><br><span class="line">        context.changeStageTo(<span class="keyword">new</span> ErrorState());</span><br><span class="line">        context.requestToOpen();</span><br><span class="line">        context.requestToClose();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    <div>
      
    </div>
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nanyiniu.github.io/2019/06/19/2019-06-24-è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NanYin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618233250.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NanYinçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/19/2019-06-24-è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼/" itemprop="url">è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-19T12:00:00Z">
                2019-06-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/è®¾è®¡æ¨¡å¼/" itemprop="url" rel="index">
                    <span itemprop="name">è®¾è®¡æ¨¡å¼</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  889
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼</h1><p>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯å¯¹è±¡çš„è¡Œä¸ºæ¨¡å¼ï¼Œåˆå«â€œå‘å¸ƒ-è®¢é˜…æ¨¡å¼â€ã€‚ç”±åå­—å°±èƒ½å¤Ÿå¾—çŸ¥ï¼Œè§‚å¯Ÿè¿™æ¨¡å¼æ„é€ äº†ä¸€ä¸ªå‘å¸ƒè€…å’Œè®¢é˜…è€…ã€‚</p>
<p>è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰å¯¹è±¡ä¹‹é—´çš„ä¸€å¯¹å¤šä¾èµ–å…³ç³»ï¼Œä»¥ä¾¿å½“ä¸€ä¸ªå¯¹è±¡æ›´æ”¹çŠ¶æ€æ—¶ï¼Œå°†è‡ªåŠ¨é€šçŸ¥å’Œæ›´æ–°å…¶æ‰€æœ‰ä¾èµ–é¡¹ã€‚åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œä¸»åŠ¨å‘ç”Ÿæ”¹å˜çš„æ˜¯å‘å¸ƒè€…ç§°ä¸ºä¸»é¢˜ï¼Œè€Œè¢«åŠ¨æ”¶åˆ°å‘å¸ƒè€…ä¿¡æ¯çš„è®¢é˜…è€…ç§°ä¸ºè§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ /å‡å°‘å…·ä½“ä¸»é¢˜çš„è§‚å¯Ÿè€…ï¼Œå®ç°ä¸»é¢˜å’Œè§‚å¯Ÿè€…ä¹‹é—´çš„æ¾è€¦åˆã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ul>
<li><p>å½“è®¾è®¡ä¸­æœ‰ä¸¤ç§ä¸åŒæ–¹é¢çš„æŠ½è±¡ï¼Œå¹¶ä¸”æ˜¯æœ‰ä¾èµ–å…³ç³»çš„ï¼Œè¿™æ—¶å°†ä¸¤ä¸ªæŠ½è±¡åˆ†åˆ«å°è£…åˆ°å…·ä½“çš„ç±»ä¸­ï¼Œè¿™æ ·å°±èƒ½å¤Ÿç‹¬ç«‹çš„æ”¹å˜å’Œé‡ç”¨è¿™äº›å¯¹è±¡ã€‚åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ä¸¤ç§æŠ½è±¡æŒ‡çš„å°±æ˜¯æŠ½è±¡ä¸»é¢˜å’ŒæŠ½è±¡è§‚å¯Ÿè€…ã€‚</p>
</li>
<li><p>å½“ä¸€ä¸ªå¯¹è±¡éœ€è¦æ›´æ”¹æ—¶ï¼Œæ¶‰åŠåˆ°æ›´æ”¹å…¶ä»–ç±»å‹çš„å…¶ä»–å¯¹è±¡ï¼Œå¹¶ä¸”è¿™äº›å¯¹è±¡çš„æ•°é‡å¤šä¸”ä¸ç¡®å®šçš„æ—¶å€™ã€‚</p>
</li>
<li><p>å½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜æ—¶ï¼Œå…¶ä»–å¯¹è±¡èƒ½å¤Ÿå¾—åˆ°è¿™ä¸ªå¯¹è±¡å·²ç»æ”¹å˜çš„é€šçŸ¥ï¼Œè€Œä¸å¿…çŸ¥é“è¿™äº›å¯¹è±¡å…·ä½“æ˜¯ä»€ä¹ˆã€‚ä¹Ÿå°±æ˜¯è¯´è¦è¾¾åˆ°è¿™ä¸ªæ”¹å˜çš„å¯¹è±¡å’Œé€šçŸ¥çš„å¯¹è±¡çš„æ¾è€¦åˆã€‚</p>
<p>  <strong>æ‰€ä»¥ç»¼ä¸Š:</strong><br>  å½“å¸Œæœ›ä¸€ä¸ªå¯¹è±¡æ”¹å˜çš„åŒæ—¶ï¼Œå¤šä¸ªå¯¹è±¡èƒ½å¤Ÿå¾—åˆ°é€šçŸ¥ï¼Œä¸€å—è¿›è¡Œå˜æ›´æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼å¯¹ç³»ç»Ÿè®¾è®¡</p>
</li>
</ul>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190624203405.png" alt="è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„å›¾"></p>
<p>ä¸Šå›¾ä¸­ï¼š</p>
<ol>
<li><code>Weather</code>ä¸º<strong>æŠ½è±¡ä¸»é¢˜ç±»</strong>ï¼Œèƒ½å¤Ÿå°†è§‚å¯Ÿè€…<code>Observer</code>æ„æˆä¸€ä¸ª<code>list</code>ç»“æ„,ä»è€Œèƒ½å¤Ÿè¾¾åˆ°<code>Weather</code>æ”¹å˜çš„æ—¶å€™å¯ä»¥å¾ªç¯è¡¨ä¸­çš„è§‚å¯Ÿè€…ï¼Œå‘é€é€šçŸ¥ã€‚å¹¶ä¸”ä½œä¸ºæŠ½è±¡ç±»å®ç°äº†æ·»åŠ ï¼Œç§»é™¤è§‚å¯Ÿè€…æ–¹æ³•ã€‚</li>
<li><code>BeijingWeather</code>ä¸º<strong>å…·ä½“ä¸»é¢˜ç±»</strong>ï¼Œå®ç°äº†<code>Weather</code>ç±»ã€‚</li>
<li><code>Observer</code>ä½œä¸º<strong>æŠ½è±¡è§‚å¯Ÿè€…ç±»</strong>ï¼Œä½œä¸ºæ‰€æœ‰è§‚å¯Ÿè€…çš„é€šç”¨æ¥å£ï¼Œå…¶ä¸­å®šä¹‰<code>update</code>æ–¹æ³•ä½œä¸ºæ›´æ–°çŠ¶æ€çš„æ¥å£ã€‚é€šè¿‡è¿™ä¸ªæ¥å£å’Œ<code>Weather</code>ç±»äº¤äº’æ¥è·å–çŠ¶æ€é€šçŸ¥ã€‚</li>
<li><code>WeatherObserverA</code>ä¸<code>WeatherObserverB</code>ä½œä¸º<strong>å…·ä½“è§‚å¯Ÿè€…ç±»</strong>ï¼Œå®ç°ç±»è§‚å¯Ÿè€…æ¥å£ã€‚ç»Ÿä¸€æ¥å—é€šçŸ¥å¹¶æ›´æ–°è‡ªèº«çŠ¶æ€ã€‚</li>
</ol>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><h4 id="ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡ä¸»é¢˜ç±»"><a href="#ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡ä¸»é¢˜ç±»" class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡ä¸»é¢˜ç±»"></a>ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡ä¸»é¢˜ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çŠ¶æ€æšä¸¾ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> WeatherState &#123;</span><br><span class="line">    SUNNY_DAY,</span><br><span class="line">    CLOUDY_DAY,</span><br><span class="line">    RAINY_DAY,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æŠ½è±¡ä¸»é¢˜ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Weather</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> WeatherState weatherState;</span><br><span class="line">    <span class="comment">// è§‚å¯Ÿè€…é›†åˆ</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; observerList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Weather <span class="title">addObserver</span><span class="params">(Observer observer)</span></span>&#123;</span><br><span class="line">        observerList.add(observer);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeObserver</span><span class="params">(Observer observer)</span></span>&#123;</span><br><span class="line">        observerList.remove(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ä¸»é¢˜æ›´æ”¹ä»è€Œåœ¨è¯¥ä¸»é¢˜ä¸Šæ³¨å†Œçš„è§‚å¯Ÿè€…èƒ½å¤ŸåŒæ—¶èƒ½åˆ°é€šçŸ¥</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyObserver</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Observer o:observerList</span><br><span class="line">             ) &#123;</span><br><span class="line">            o.update(<span class="keyword">this</span>.weatherState);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äºŒéƒ¨åˆ†ï¼šå…·ä½“ä¸»é¢˜ç±»"><a href="#ç¬¬äºŒéƒ¨åˆ†ï¼šå…·ä½“ä¸»é¢˜ç±»" class="headerlink" title="ç¬¬äºŒéƒ¨åˆ†ï¼šå…·ä½“ä¸»é¢˜ç±»"></a>ç¬¬äºŒéƒ¨åˆ†ï¼šå…·ä½“ä¸»é¢˜ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeijingWeather</span> <span class="keyword">extends</span> <span class="title">Weather</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    BeijingWeather(WeatherState weatherState) &#123;</span><br><span class="line">        <span class="keyword">this</span>.weatherState = weatherState;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä½œä¸ºæ›´æ–°ä¸»é¢˜çš„æ¥å£</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">changeState</span><span class="params">(WeatherState we)</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.weatherState = we;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¸‰éƒ¨åˆ†ï¼šæŠ½è±¡è§‚å¯Ÿè€…"><a href="#ç¬¬ä¸‰éƒ¨åˆ†ï¼šæŠ½è±¡è§‚å¯Ÿè€…" class="headerlink" title="ç¬¬ä¸‰éƒ¨åˆ†ï¼šæŠ½è±¡è§‚å¯Ÿè€…"></a>ç¬¬ä¸‰éƒ¨åˆ†ï¼šæŠ½è±¡è§‚å¯Ÿè€…</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°æ¥å£</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(WeatherState weatherState)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å››éƒ¨åˆ†ï¼š-å…·ä½“è§‚å¯Ÿè€…"><a href="#ç¬¬å››éƒ¨åˆ†ï¼š-å…·ä½“è§‚å¯Ÿè€…" class="headerlink" title="ç¬¬å››éƒ¨åˆ†ï¼š å…·ä½“è§‚å¯Ÿè€…"></a>ç¬¬å››éƒ¨åˆ†ï¼š å…·ä½“è§‚å¯Ÿè€…</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeatherObserverA</span> <span class="keyword">implements</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(WeatherState weatherState)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"observer A get new weather message is "</span> + weatherState.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æœ€åè°ƒç”¨"><a href="#æœ€åè°ƒç”¨" class="headerlink" title="æœ€åè°ƒç”¨"></a>æœ€åè°ƒç”¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å®šä¹‰ä¸»é¢˜</span></span><br><span class="line">        Weather weather = <span class="keyword">new</span> BeijingWeather(WeatherState.SUNNY_DAY);</span><br><span class="line">        <span class="comment">//æ·»åŠ è§‚å¯Ÿè€…</span></span><br><span class="line">        weather.addObserver(<span class="keyword">new</span> WeatherObserverA()).addObserver(<span class="keyword">new</span> WeatherObserverB());</span><br><span class="line">        <span class="comment">//é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…</span></span><br><span class="line">        weather.notifyObserver();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼šæœ€åæ³¨å†Œåœ¨ä¸»é¢˜ä¸Šçš„æ‰€æœ‰è§‚å¯Ÿè€…éƒ½æ”¶åˆ°äº†é€šçŸ¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">observer A get new weather message is SUNNY_DAY</span><br><span class="line">observer B get new weather message is SUNNY_DAY</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    <div>
      
    </div>
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nanyiniu.github.io/2019/06/18/2019-06-18-Macä¸‹ideaåœ¨Dockæ ä¸€ç›´å­˜åœ¨å›¾æ ‡å’Œæ§åˆ¶å°ä¸­æ–‡ä¹±ç é—®é¢˜/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NanYin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618233250.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NanYinçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/18/2019-06-18-Macä¸‹ideaåœ¨Dockæ ä¸€ç›´å­˜åœ¨å›¾æ ‡å’Œæ§åˆ¶å°ä¸­æ–‡ä¹±ç é—®é¢˜/" itemprop="url">Macä¸‹ä½¿ç”¨ideaæ—¶åœ¨dockæ ä¸€ç›´å­˜åœ¨javaå›¾æ ‡å’Œæ§åˆ¶å°ä¹±ç é—®é¢˜</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-18T12:00:00Z">
                2019-06-18
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å·¥å…·/" itemprop="url" rel="index">
                    <span itemprop="name">å·¥å…·</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  112
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Macä¸‹ä½¿ç”¨Ideaç›¸å…³é—®é¢˜"><a href="#Macä¸‹ä½¿ç”¨Ideaç›¸å…³é—®é¢˜" class="headerlink" title="Macä¸‹ä½¿ç”¨Ideaç›¸å…³é—®é¢˜"></a>Macä¸‹ä½¿ç”¨Ideaç›¸å…³é—®é¢˜</h1><h2 id="ä½¿ç”¨tomcatå¯åŠ¨IDEAé¡¹ç›®åï¼Œdockæ ä¸€ç›´å­˜åœ¨JAVAå›¾æ ‡é—®é¢˜"><a href="#ä½¿ç”¨tomcatå¯åŠ¨IDEAé¡¹ç›®åï¼Œdockæ ä¸€ç›´å­˜åœ¨JAVAå›¾æ ‡é—®é¢˜" class="headerlink" title="ä½¿ç”¨tomcatå¯åŠ¨IDEAé¡¹ç›®åï¼Œdockæ ä¸€ç›´å­˜åœ¨JAVAå›¾æ ‡é—®é¢˜"></a>ä½¿ç”¨tomcatå¯åŠ¨IDEAé¡¹ç›®åï¼Œdockæ ä¸€ç›´å­˜åœ¨JAVAå›¾æ ‡é—®é¢˜</h2><p>åœ¨macä¸Šå¯åŠ¨ideaåï¼Œå­˜åœ¨dockæ ä¸€ç›´å­˜åœ¨JAVAå›¾æ ‡çš„é—®é¢˜ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618081946.png" alt="Dockæ å­˜åœ¨javaå›¾æ ‡é—®é¢˜"></p>
<p>è§£å†³æ–¹å¼ï¼š</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618082435.png" alt="å­˜åœ¨å›¾æ ‡è§£å†³æ–¹å¼"></p>
<p>æ‰“å¼€<code>Run/Debug configurations</code>,åœ¨<code>vm options</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Dapple.awt.UIElement=<span class="keyword">true</span></span><br></pre></td></tr></table></figure>

<h2 id="å¯åŠ¨IDEAåï¼Œæ§åˆ¶å°ä¹±ç "><a href="#å¯åŠ¨IDEAåï¼Œæ§åˆ¶å°ä¹±ç " class="headerlink" title="å¯åŠ¨IDEAåï¼Œæ§åˆ¶å°ä¹±ç "></a>å¯åŠ¨IDEAåï¼Œæ§åˆ¶å°ä¹±ç </h2><p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618082124.png" alt="æ§åˆ¶å°ä¹±ç "></p>
<p>è§£å†³æ–¹å¼å’Œä¸Šä¸€ä¸ªé—®é¢˜ç›¸åŒï¼ŒåŒæ ·åœ¨vm optionsä¸­å¢åŠ å‚æ•°ï¼Œå…·ä½“å‚æ•°å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Dfile.encoding=UTF-<span class="number">8</span></span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    <div>
      
    </div>
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nanyiniu.github.io/2019/06/17/2019-06-17-è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ¨¡å¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NanYin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618233250.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NanYinçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/17/2019-06-17-è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ¨¡å¼/" itemprop="url">è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ¨¡å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-17T12:00:00Z">
                2019-06-17
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/è®¾è®¡æ¨¡å¼/" itemprop="url" rel="index">
                    <span itemprop="name">è®¾è®¡æ¨¡å¼</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  820
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼</h1><p>æ¨¡ç‰ˆæ¨¡å¼æ˜¯ç±»çš„è¡Œä¸ºæ¨¡å¼ï¼Œå°†éƒ¨åˆ†é€»è¾‘ä»¥å…·ä½“æ–¹æ³•æ¥å®ç°ï¼Œå°†å…¶ä»–æ–¹æ³•å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•æ¥è®©å­ç±»æ¥å®ç°ã€‚ä¸åŒçš„å­ç±»å®ç°çš„æ–¹æ³•é€»è¾‘ä¸åŒï¼Œä»è€Œæ•´ä½“çš„é€»è¾‘æœ‰æ‰€å·®å¼‚ã€‚</p>
<p>è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªè§’è‰²ï¼š</p>
<p>ä¸€ã€æŠ½è±¡æ¨¡æ¿(Abstract Template)è§’è‰²æœ‰å¦‚ä¸‹è´£ä»»ï¼š</p>
<pre><code>- å®šä¹‰äº†ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ“ä½œï¼Œä»¥ä¾¿è®©å­ç±»å®ç°ã€‚è¿™äº›æŠ½è±¡æ“ä½œå«åšåŸºæœ¬æ“ä½œï¼Œ
å®ƒä»¬æ˜¯ä¸€ä¸ªé¡¶çº§é€»è¾‘çš„ç»„æˆæ­¥éª¤ã€‚

- å®šä¹‰å¹¶å®ç°äº†ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•ã€‚è¿™ä¸ªæ¨¡æ¿æ–¹æ³•ä¸€èˆ¬æ˜¯ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼Œå®ƒç»™å‡ºäº†ä¸€ä¸ªé¡¶çº§é€»è¾‘çš„éª¨æ¶ï¼Œ
è€Œé€»è¾‘çš„ç»„æˆæ­¥éª¤åœ¨ç›¸åº”çš„æŠ½è±¡æ“ä½œä¸­ï¼Œæ¨è¿Ÿåˆ°å­ç±»å®ç°ã€‚é¡¶çº§é€»è¾‘ä¹Ÿæœ‰å¯èƒ½è°ƒç”¨ä¸€äº›å…·ä½“æ–¹æ³•ã€‚</code></pre><p>äºŒã€å…·ä½“æ¨¡æ¿(Concrete Template)è§’è‰²åˆå¦‚ä¸‹è´£ä»»ï¼š</p>
<pre><code>- å®ç°çˆ¶ç±»æ‰€å®šä¹‰çš„ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå®ƒä»¬æ˜¯ä¸€ä¸ªé¡¶çº§é€»è¾‘çš„ç»„æˆæ­¥éª¤ã€‚

- æ¯ä¸€ä¸ªæŠ½è±¡æ¨¡æ¿è§’è‰²éƒ½å¯ä»¥æœ‰ä»»æ„å¤šä¸ªå…·ä½“æ¨¡æ¿è§’è‰²ä¸ä¹‹å¯¹åº”ï¼Œ
è€Œæ¯ä¸€ä¸ªå…·ä½“æ¨¡æ¿è§’è‰²éƒ½å¯ä»¥ç»™å‡ºè¿™äº›æŠ½è±¡æ–¹æ³•ï¼ˆä¹Ÿå°±æ˜¯é¡¶çº§é€»è¾‘çš„ç»„æˆæ­¥éª¤ï¼‰çš„ä¸åŒå®ç°ï¼Œ
ä»è€Œä½¿å¾—é¡¶çº§é€»è¾‘çš„å®ç°å„ä¸ç›¸åŒã€‚</code></pre><h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p> å®ç°ä¸å˜çš„éƒ¨åˆ†ä¸€æ¬¡ï¼Œå¹¶å°†å…¶ä»–ç•™ç»™å­ç±»æ¥å®ç°å¯èƒ½éœ€è¦å˜åŒ–çš„è¡Œä¸ºã€‚</p>
<ul>
<li>éœ€è¦ç®€åŒ–ä»£ç ï¼Œåˆ†ç¦»å‡ºå…¬å…±çš„éƒ¨åˆ†ï¼ŒæŠ½ç¦»å‡ºä¸€ä¸ªå…¬å…±çš„æ¨¡æ¿æ–¹æ³•æ¥æ›¿æ¢æ‰€æœ‰çš„ä»£ç ã€‚</li>
<li>æ§åˆ¶å­ç±»æ‰©å±•ã€‚å®šä¹‰åœ¨ç‰¹å®šç‚¹è°ƒç”¨â€œé’©å­â€æ“ä½œçš„æ¨¡æ¿æ–¹æ³•ï¼Œä»è€Œä»…å…è®¸åœ¨é‚£äº›ç‚¹è¿›è¡Œæ‰©å±•ã€‚</li>
</ul>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p>è¿™é‡Œä½¿ç”¨åˆ°æ¨¡æ‹Ÿservletä¸­çš„httpServletæ–¹æ³•ï¼ˆç®€å•çš„æ¨¡æ‹Ÿæ–¹æ³•ä¸­ç”¨åˆ°çš„æ¨¡ç‰ˆæ–¹æ³•ï¼‰ã€‚å®šä¹‰ä¸€ä¸ªå…¬å…±çš„æ¨¡ç‰ˆæ–¹æ³•æŠ½è±¡ç±»<code>HttpServletTemplate</code>ï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªé’©å­æ–¹æ³•<code>doGet</code>å’Œ<code>doPost</code>ï¼Œæ‰€è°“çš„é’©å­æ–¹æ³•å°±æ˜¯éœ€è¦ç”±å­ç±»å®ç°çš„æ–¹æ³•ã€‚è¿˜æœ‰ä¸€ä¸ªå…·ä½“æ–¹æ³•<code>service</code>æ¥å®ç°æ¨¡ç‰ˆè°ƒç”¨çš„ä½œç”¨ã€‚</p>
<p>æ¨¡æ‹Ÿä¸¤ä¸ªå­ç±»å®ç°<code>HttpServletTemplate</code>å®ç°ä¸¤ä¸ªé’©å­æ–¹æ³•ã€‚</p>
<p>å®¢æˆ·ç«¯<code>App</code>åœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œç›´æ¥è°ƒç”¨ä¸¤ä¸ªå­ç±»çš„çˆ¶ç±»ä¸­çš„å®ç°æ–¹æ³•<code>service</code>å®ç°è°ƒç”¨æ¨¡ç‰ˆã€‚</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190617221808.png" alt="æ¨¡ç‰ˆæ¨¡å¼ç»“æ„"></p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><h3 id="æŠ½è±¡æ¨¡ç‰ˆç±»"><a href="#æŠ½è±¡æ¨¡ç‰ˆç±»" class="headerlink" title="æŠ½è±¡æ¨¡ç‰ˆç±»"></a>æŠ½è±¡æ¨¡ç‰ˆç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpServletTemplate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpRequestMethod method)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(method.equals(HttpRequestMethod.METHOD_GET))&#123;</span><br><span class="line">            System.out.println(<span class="string">"so something 1"</span>);</span><br><span class="line">            doGet();</span><br><span class="line">            System.out.println(<span class="string">"so something 2"</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(method.equals(HttpRequestMethod.METHOD_POST))&#123;</span><br><span class="line">            doPost();</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"do nothing!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…·ä½“æ¨¡ç‰ˆç±»"><a href="#å…·ä½“æ¨¡ç‰ˆç±»" class="headerlink" title="å…·ä½“æ¨¡ç‰ˆç±»"></a>å…·ä½“æ¨¡ç‰ˆç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetClient</span> <span class="keyword">extends</span> <span class="title">HttpServletTemplate</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"this is my get methods!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PostClient</span> <span class="keyword">extends</span> <span class="title">HttpServletTemplate</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.doPost();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"this is my post methods!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¯·æ±‚ç±»å‹æšä¸¾ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> HttpRequestMethod &#123;</span><br><span class="line">    METHOD_GET,METHOD_POST,METHOD_DELETE</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®¢æˆ·ç«¯è°ƒç”¨"><a href="#å®¢æˆ·ç«¯è°ƒç”¨" class="headerlink" title="å®¢æˆ·ç«¯è°ƒç”¨"></a>å®¢æˆ·ç«¯è°ƒç”¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å£°æ˜postå®¢æˆ·ç«¯</span></span><br><span class="line">        PostClient post = <span class="keyword">new</span> PostClient();</span><br><span class="line">        <span class="comment">//è°ƒç”¨æ¨¡ç‰ˆ</span></span><br><span class="line">        post.service(HttpRequestMethod.METHOD_POST);</span><br><span class="line">        GetClient get = <span class="keyword">new</span> GetClient();</span><br><span class="line">        get.service(HttpRequestMethod.METHOD_GET);</span><br><span class="line">        get.service(HttpRequestMethod.METHOD_POST);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼æ˜¯åˆ›å»ºä¸€ä¸ªç®—æ³•çš„éª¨æ¶ï¼Œå…·ä½“çš„å†…å®¹ç”±å­ç±»å»å¡«å……çš„è¿™ä¸ªè¿‡ç¨‹ã€‚</p>

          
        
      
    </div>
    
    
    

    <div>
      
    </div>
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nanyiniu.github.io/2019/06/15/2019-06-15-è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NanYin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618233250.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NanYinçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/15/2019-06-15-è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼/" itemprop="url">è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-15T12:00:00Z">
                2019-06-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/è®¾è®¡æ¨¡å¼/" itemprop="url" rel="index">
                    <span itemprop="name">è®¾è®¡æ¨¡å¼</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  1.1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  4
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼</h1><p>è®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§å¤æ‚çš„è¡Œä¸ºæ¨¡å¼ã€‚è¡¨ç¤ºè¦å¯¹å¯¹è±¡ç»“æ„çš„å…ƒç´ æ‰§è¡Œçš„æ“ä½œã€‚è®¿é—®è€…å…è®¸å¯¹å¯¹è±¡ç»“æ„ä¸­çš„èŠ‚ç‚¹å®šä¹‰æ–°æ“ä½œï¼Œè€Œæ— éœ€æ›´æ”¹å…¶æ“ä½œçš„å…ƒç´ çš„ç±»ã€‚</p>
<p>é€‚ç”¨äºæ•°æ®ç»“æ„ç›¸å¯¹æœªå®šçš„ç³»ç»Ÿï¼Œå®ƒæŠŠæ•°æ®ç»“æ„å’Œä½œç”¨äºç»“æ„ä¸Šçš„æ“ä½œä¹‹é—´çš„è€¦åˆè§£è„±å¼€ï¼Œä½¿å¾—æ“ä½œé›†åˆå¯ä»¥ç›¸å¯¹è‡ªç”±åœ°æ¼”åŒ–ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p>å½“é‡åˆ°å¦‚ä¸‹æƒ…å†µæ—¶ï¼Œå¯ä»¥ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨è®¿é—®è€…æ¨¡å¼ï¼š</p>
<ol>
<li>å¯¹è±¡ç»“æ„ä¸­åŒ…å«è®¸å¤šå…·æœ‰ä¸åŒæ¥å£çš„å¯¹è±¡ç±»ï¼Œå¹¶ä¸”å¸Œæœ›å¯¹ä¾èµ–äºå…¶å…·ä½“ç±»çš„è¿™äº›å¯¹è±¡æ‰§è¡Œæ“ä½œã€‚</li>
<li>éœ€è¦å¯¹å¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡æ‰§è¡Œè®¸å¤šä¸åŒä¸”ä¸ç›¸å…³çš„æ“ä½œï¼Œå¹¶ä¸”å¸Œæœ›é¿å…ä½¿ç”¨è¿™äº›æ“ä½œâ€œæ±¡æŸ“â€å®ƒä»¬çš„ç±»ã€‚è¿™æ—¶å°±å¯ä»¥å®šä¹‰å¤šä¸ªvisitorç±»æ¥å®Œæˆå¯¹å¤šä¸ªå¯¹è±¡èŠ‚ç‚¹çš„å¤„ç†ã€‚</li>
<li>å®šä¹‰å¯¹è±¡ç»“æ„çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†æ˜¯ä½ ç»å¸¸æƒ³è¦åœ¨ç»“æ„ä¸Šå®šä¹‰æ–°çš„æ“ä½œã€‚</li>
</ol>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p><strong>ä¸¾ä¸ªä¾‹å­</strong>ï¼šåœ¨å…¬å¸ä¸­ï¼Œéœ€è¦ç»Ÿè®¡æ‰“å¡è®°å½•å’Œç»©æ•ˆï¼Œåˆ†åˆ«æœ‰è¡Œæ”¿éƒ¨é—¨å’Œè´¢åŠ¡éƒ¨é—¨æ¥å®ç°ã€‚å¹¶ä¸”å°†æ¥å¯èƒ½æœ‰è´¨é‡éƒ¨é—¨ç›‘æµ‹ç ”å‘å’Œå®æ–½äººå‘˜çš„å·¥ä½œè´¨é‡ã€‚ä½†æ˜¯å¯¹ç ”å‘å’Œå®æ–½äººå‘˜çš„è€ƒæ ¸æ ‡å‡†æœ‰æ‰€ä¸åŒã€‚</p>
<h3 id="ä¸€ã€ç±»å›¾"><a href="#ä¸€ã€ç±»å›¾" class="headerlink" title="ä¸€ã€ç±»å›¾"></a>ä¸€ã€ç±»å›¾</h3><p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190616105829.png" alt="ç±»å›¾"></p>
<p><code>OperateStructure</code>ä½œä¸ºå¯¹è±¡<code>OperateNode</code>çš„æ•°æ®ç»“æ„,å¹¶ä¸”å®ç°ç±»<code>OperateNodeA</code>å’Œ<code>OperateNodeB</code>è¡Œä¸ºæ–¹æ³•æœ‰å„è‡ªçš„å®ç°ã€‚å¹¶ä¸”æƒ³åŸºäºè¿™ä¸ªç›¸å¯¹å›ºå®šçš„æ•°æ®ç»“æ„å®ç°å¤šç§ä¸åŒçš„æ“ä½œ<code>ï¼ˆvisitorï¼‰</code>ã€‚è¿™æ ·åœ¨å¢åŠ <code>visitor</code>çš„æ—¶å€™ä¸å¿…è€ƒè™‘æ•°æ®ç»“æ„ä¼šå‘ç”Ÿå˜æ›´ã€‚</p>
<h3 id="äºŒã€æ—¶åº"><a href="#äºŒã€æ—¶åº" class="headerlink" title="äºŒã€æ—¶åº"></a>äºŒã€æ—¶åº</h3><p>ç”±äºè°ƒç”¨è¿‡ç¨‹æ¯”è¾ƒä¸å®¹æ˜“çœ‹é€ï¼Œè¿™é‡Œæˆ‘å…ˆä½¿ç”¨æ—¶åºå›¾æ¥è¯´æ˜è°ƒç”¨é¡ºåº</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190616112121.png" alt="è°ƒç”¨è¿‡ç¨‹æ—¶åº"></p>
<h2 id="ä»£ç å®ä¾‹"><a href="#ä»£ç å®ä¾‹" class="headerlink" title="ä»£ç å®ä¾‹"></a>ä»£ç å®ä¾‹</h2><p>æ ¹æ®ç±»å›¾å¯ä»¥çœ‹å‡ºï¼Œè®¿é—®è€…æ¨¡å¼åˆ†ä¸ºäº”éƒ¨åˆ†ï¼šæŠ½è±¡èŠ‚ç‚¹è§’è‰² ã€å…·ä½“èŠ‚ç‚¹è§’è‰² ã€æŠ½è±¡è®¿é—®è€…è§’è‰² ã€å…·ä½“è®¿é—®è€…è§’è‰² ã€ç»“æ„å¯¹è±¡è§’è‰²</p>
<ul>
<li>æŠ½è±¡èŠ‚ç‚¹è§’è‰²ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">OperateNode</span> </span>&#123;</span><br><span class="line"><span class="comment">//  å®šä¹‰èŠ‚ç‚¹å†…éƒ½éœ€è¦å®ç°çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor visitor)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å…·ä½“èŠ‚ç‚¹è§’è‰²ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…·ä½“èŠ‚ç‚¹A åœ¨å®ä¾‹ä¸­å¯¹åº”ç ”å‘äººå‘˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OperateNodeA</span> <span class="keyword">extends</span> <span class="title">OperateNode</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ç»©æ•ˆç³»æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">double</span> COEFFICIENT = <span class="number">1.2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> workDate;</span><br><span class="line"></span><br><span class="line">    OperateNodeA(<span class="keyword">int</span> workDate) &#123;</span><br><span class="line">        <span class="keyword">this</span>.workDate = workDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor visitor)</span> </span>&#123;</span><br><span class="line">        visitor.visit(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">attendance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> workDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">performance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> workDate * COEFFICIENT;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å…·ä½“èŠ‚ç‚¹Bï¼Œåœ¨å®ä¾‹ä¸­å¯¹åº”è¿ç»´äººå‘˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OperateNodeB</span> <span class="keyword">extends</span> <span class="title">OperateNode</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> COEFFICIENT = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> workDate;</span><br><span class="line"></span><br><span class="line">    OperateNodeB(<span class="keyword">int</span> workDate) &#123;</span><br><span class="line">        <span class="keyword">this</span>.workDate = workDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor visitor)</span> </span>&#123;</span><br><span class="line">        visitor.visit(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">attendance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> workDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">performance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> workDate * COEFFICIENT;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æŠ½è±¡è®¿é—®è€…è§’è‰²</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é’ˆå¯¹ç»“æ„ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹åˆ†åˆ«è¿›è¡Œå„è‡ªçš„æ“ä½œ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Visitor</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeA operateNodeA)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeB operateNodeB)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å…·ä½“è®¿é—®è€…è§’è‰²</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¡Œæ”¿äººå‘˜ç»“ç®—è€ƒå‹¤</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VisitorA</span> <span class="keyword">implements</span> <span class="title">Visitor</span> </span>&#123;</span><br><span class="line">    <span class="comment">// éœ€è¦å¯¹å®æ–½äººå‘˜å¢åŠ è·¯ä¸Šçš„è€ƒå‹¤æ—¶é—´ æ¨¡å¼ä¸º2</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> BASIC = <span class="number">2</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeA operateNodeA)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> att = operateNodeA.attendance();</span><br><span class="line">        System.out.println(<span class="string">"æœ¬æœˆè¯¥ç ”å‘äººå‘˜è€ƒå‹¤ä¸º"</span>+att + <span class="string">"å¤©"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeB operateNodeB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> att =operateNodeB.attendance() + BASIC;</span><br><span class="line">        System.out.println(<span class="string">"æœ¬æœˆè¯¥å®æ–½äººå‘˜è€ƒå‹¤ä¸º"</span>+att + <span class="string">"å¤©"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è´¢åŠ¡äººå‘˜ç»“ç®—ç»©æ•ˆ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VisitorB</span> <span class="keyword">implements</span> <span class="title">Visitor</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç ”å‘éœ€è¦æ·»åŠ é¢å¤–ç»©æ•ˆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> EXTRA = <span class="number">2</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeA operateNodeA)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> att = operateNodeA.performance() + EXTRA;</span><br><span class="line">        System.out.println(<span class="string">"æœ¬æœˆè¯¥ç ”å‘äººå‘˜ç»©æ•ˆä¸º :"</span>+att );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeB operateNodeB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> att =operateNodeB.performance() ;</span><br><span class="line">        System.out.println(<span class="string">"æœ¬æœˆè¯¥ç ”å‘äººå‘˜ç»©æ•ˆä¸º :"</span>+att );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç»“æ„å¯¹è±¡ç»“æ„</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperateStructure</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰ç»“æ„ä½“</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;OperateNode&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(OperateNode operateNode)</span></span>&#123;</span><br><span class="line">        list.add(operateNode);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¯¹ç»“æ„ä½“ä¸­çš„å¯¹è±¡å®ç°æ¥æ”¶è®¿é—®æ“ä½œ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">action</span><span class="params">(Visitor visitor)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (OperateNode operateNode : list)&#123;</span><br><span class="line">        <span class="comment">// ç›®çš„å°±æ˜¯ä½¿ç”¨åŒé‡åˆ†æ´¾è°ƒç”¨æ¥å®ç°</span></span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹æ¥å—è®¿é—®è€…ä¸è®¿é—®è€…è®¿é—®èŠ‚ç‚¹çš„æ“ä½œ</span></span><br><span class="line">            operateNode.accept(visitor);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å®¢æˆ·ç«¯è°ƒç”¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Visitor visitorA = <span class="keyword">new</span> VisitorA();</span><br><span class="line">        Visitor visitorB = <span class="keyword">new</span> VisitorB();</span><br><span class="line">        OperateStructure structure = <span class="keyword">new</span> OperateStructure();</span><br><span class="line">        structure.add(<span class="keyword">new</span> OperateNodeA(<span class="number">22</span>));</span><br><span class="line">        structure.add(<span class="keyword">new</span> OperateNodeB(<span class="number">22</span>));</span><br><span class="line">        structure.action(visitorA);</span><br><span class="line">        structure.action(visitorB);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç»“æœ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æœ¬æœˆè¯¥ç ”å‘äººå‘˜è€ƒå‹¤ä¸º22å¤©</span><br><span class="line">æœ¬æœˆè¯¥å®æ–½äººå‘˜è€ƒå‹¤ä¸º24å¤©</span><br><span class="line">æœ¬æœˆè¯¥ç ”å‘äººå‘˜ç»©æ•ˆä¸º :28.4</span><br><span class="line">æœ¬æœˆè¯¥ç ”å‘äººå‘˜ç»©æ•ˆä¸º :22.0</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    <div>
      
    </div>
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nanyiniu.github.io/2019/06/14/2019-06-14-è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NanYin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618233250.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NanYinçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/14/2019-06-14-è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼/" itemprop="url">è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-14T12:00:00Z">
                2019-06-14
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/è®¾è®¡æ¨¡å¼/" itemprop="url" rel="index">
                    <span itemprop="name">è®¾è®¡æ¨¡å¼</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  604
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼</h1><p>ä»£ç†æ¨¡å¼æ˜¯å¯¹è±¡çš„ç»“æ„æ¨¡å¼ã€‚ä»£ç†æ¨¡å¼ç»™æŸä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå¹¶ç”±ä»£ç†å¯¹è±¡æ§åˆ¶å¯¹åŸå¯¹è±¡çš„å¼•ç”¨ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ol>
<li>è¿œç¨‹ä»£ç†ä¸åŒåœ°å€ç©ºé—´çš„å¯¹è±¡ï¼Œéƒ½å½“ä½œæœ¬åœ°åŒ–å¯¹è±¡æ¥å¤„ç†</li>
<li>æ§åˆ¶å¯¹è±¡çš„è®¿é—®æƒé™ã€‚</li>
</ol>
<p>å½“é‡åˆ°ä¸€ä¸‹æƒ…å†µæ˜¯å¯ä»¥ä½¿ç”¨ä»£ç†æ¨¡å¼ï¼š</p>
<ul>
<li>æƒ³æ§åˆ¶å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®</li>
<li>æ‡’åŠ è½½</li>
<li>æ§åˆ¶æ—¥å¿—è¾“å‡º</li>
<li>è®¡ç®—å¯¹è±¡å¼•ç”¨</li>
<li>æ§åˆ¶ç½‘ç»œé“¾æ¥é—®é¢˜</li>
</ul>
<h2 id="ä»£ç†æ¨¡å¼æ¨¡å¼ç»“æ„"><a href="#ä»£ç†æ¨¡å¼æ¨¡å¼ç»“æ„" class="headerlink" title="ä»£ç†æ¨¡å¼æ¨¡å¼ç»“æ„"></a>ä»£ç†æ¨¡å¼æ¨¡å¼ç»“æ„</h2><p>æµ´å®¤åˆ†ä¸ºç”·æµ´å®¤å’Œå¥³æµ´å®¤ï¼Œå…¶ä¸­å‰å°åˆ¤æ–­èƒ½å¤Ÿè¿›å…¥æµ´å®¤çš„å‰ææ˜¯æ²¡æœ‰çš®è‚¤ç—…ï¼Œå¦‚æœ‰æ²¡æœ‰ï¼Œæ‰è®©è¿›å…¥æµ´å®¤ã€‚è¿™é‡Œçš„å‰å°å°±æ˜¯ä¸€ä¸ªä»£ç†ï¼Œå®ƒä»£ç†æ¥æµ´å®¤ï¼Œç”¨æ¥åˆ¤æ–­èƒ½å¦è¿›å…¥æµ´å®¤çš„æƒé™ã€‚è¿™å°±æ˜¯ä»£ç†çš„ä½œç”¨ã€‚</p>
<p>ä»£ç†æ¨¡å¼å’Œè£…é¥°è€…æ¨¡å¼æ¯”è¾ƒå®¹æ˜“æ··æ·†ã€‚éœ€è¦è®°ä½çš„æ˜¯ï¼Œä¸¤è€…çš„åŠŸèƒ½åŒºåˆ«åœ¨äºï¼Œä»£ç†æ¨¡å¼æ”¹å˜çš„æ˜¯å¯¹è±¡çš„èŒèƒ½ï¼Œæ§åˆ¶å¯¹è±¡çš„è¡Œä¸ºã€‚è€Œè£…é¥°è€…æ¨¡å¼æ˜¯å¯¹èŒèƒ½çš„å¢åŠ å’Œå‡å°‘ã€‚ä½¿ç”¨åœºæ™¯ä¸Šæœ‰æ‰€ä¸åŒã€‚</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190614132147.png" alt="ä»£ç†æ¨¡å¼ç»“æ„å›¾"></p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>ä»£ç†æ¨¡å¼å¤§è‡´èƒ½å¤Ÿåˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šæŠ½è±¡èŒèƒ½ç±»ï¼Œä»£ç†ç±»ï¼Œè¢«ä»£ç†ç±»</p>
<p>ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡èŒèƒ½ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Person åŸºæœ¬ä¿¡æ¯ç±» å’Œæ€§åˆ«æšä¸¾ </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SexEnum sex;</span><br><span class="line">    <span class="comment">//æ˜¯å¦æœ‰çš®è‚¤ç—…</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> hasSkinDisease;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, SexEnum sex, <span class="keyword">int</span> hasSkinDisease)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">        <span class="keyword">this</span>.hasSkinDisease = hasSkinDisease;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SexEnum <span class="title">getSex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getHasSkinDisease</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hasSkinDisease;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> SexEnum &#123;</span><br><span class="line">    MALE,FEMALE</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠ½è±¡èŒèƒ½</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">BathRoom</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å»æ¾¡å ‚æ³¡æ¾¡</span></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> BathRoom <span class="title">enterBathroom</span><span class="params">(Person person)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒéƒ¨åˆ†ï¼šè¢«ä»£ç†ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MaleBathRoom</span> <span class="keyword">extends</span> <span class="title">BathRoom</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BathRoom <span class="title">enterBathroom</span><span class="params">(Person p)</span> </span>&#123;</span><br><span class="line">        String sexName = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">if</span>(SexEnum.MALE.equals(p.getSex()))&#123;</span><br><span class="line">            sexName = SexEnum.MALE.toString();</span><br><span class="line">            System.out.println(<span class="string">"name : "</span>+ p.getName() +<span class="string">" sex: "</span>+ sexName +<span class="string">" go bath for male !"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šä»£ç†ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BathRoomProxy</span> <span class="keyword">extends</span> <span class="title">BathRoom</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    BathRoom bathRoom;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BathRoomProxy</span><span class="params">(BathRoom bathRoom)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.bathRoom = bathRoom;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BathRoom <span class="title">enterBathroom</span><span class="params">(Person person)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (person.getHasSkinDisease() == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>.bathRoom.enterBathroom(person);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(person.getName() + <span class="string">" has disease."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®¢æˆ·ç«¯è°ƒç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="string">"1"</span>,SexEnum.MALE,<span class="number">0</span>);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">"2"</span>,SexEnum.MALE,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        BathRoomProxy bathRoomProxy = <span class="keyword">new</span> BathRoomProxy(<span class="keyword">new</span> MaleBathRoom());</span><br><span class="line">        bathRoomProxy.enterBathroom(p1).enterBathroom(p2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name : 1 sex: MALE go bath for male !</span><br><span class="line">2 has disease.</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    <div>
      
    </div>
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nanyiniu.github.io/2019/06/13/2019-06-13-è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NanYin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618233250.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NanYinçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/13/2019-06-13-è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼/" itemprop="url">è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-13T12:00:00Z">
                2019-06-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/è®¾è®¡æ¨¡å¼/" itemprop="url" rel="index">
                    <span itemprop="name">è®¾è®¡æ¨¡å¼</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  827
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼</h1><p>äº«å…ƒæ¨¡å¼æ˜¯å¯¹è±¡çš„ç»“æ„æ¨¡å¼ã€‚äº«å…ƒæ¨¡å¼ä»¥å…±äº«çš„æ–¹å¼é«˜æ•ˆåœ°æ”¯æŒå¤§é‡çš„ç»†ç²’åº¦å¯¹è±¡ã€‚å®ƒç”¨äºé€šè¿‡å°½å¯èƒ½å¤šåœ°ä¸ç±»ä¼¼å¯¹è±¡å…±äº«æ¥æœ€å°åŒ–å†…å­˜ä½¿ç”¨æˆ–è®¡ç®—å¼€é”€ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ol>
<li>åº”ç”¨ä¸­éœ€è¦å¤§é‡çš„å¯¹è±¡ï¼Œå¤§é‡çš„å¯¹è±¡å¯èƒ½é€ æˆå­˜å‚¨å¯¹è±¡çš„å¼€é”€ã€‚</li>
<li>å¯¹è±¡å˜åŒ–çš„çŠ¶æ€å¤§å¤šæ˜¯å¤–éƒ¨çŠ¶æ€ã€‚ä¸€æ—¦å¤–éƒ¨çŠ¶æ€è¢«ç§»é™¤ï¼Œè®¸å¤šå¯¹è±¡ç»„å¯è¢«ç›¸å¯¹è¾ƒå°‘çš„å…±äº«å¯¹è±¡æ›¿æ¢ã€‚è¿™ä¹Ÿå°±æ˜¯äº«å…ƒæ¨¡å¼åˆ©ç”¨çš„ç‚¹ã€‚</li>
<li>å› ä¸ºåœ¨äº«å…ƒæ¨¡å¼ä¸­å¯¹è±¡æ˜¯å…±äº«çš„ï¼Œæ‰€ä»¥åœ¨å«ä¹‰ä¸Šçš„ä¸åŒå¯¹è±¡ä½¿ç”¨equelså®é™…è¿”å›çš„æ˜¯trueã€‚</li>
</ol>
<h2 id="äº«å…ƒæ¨¡å¼ç»“æ„"><a href="#äº«å…ƒæ¨¡å¼ç»“æ„" class="headerlink" title="äº«å…ƒæ¨¡å¼ç»“æ„"></a>äº«å…ƒæ¨¡å¼ç»“æ„</h2><p>äº«å…ƒæ¨¡å¼é‡‡ç”¨ä¸€ä¸ªå…±äº«æ¥é¿å…å¤§é‡æ‹¥æœ‰ç›¸åŒå†…å®¹å¯¹è±¡çš„å¼€é”€ã€‚è¿™ç§å¼€é”€æœ€å¸¸è§ã€æœ€ç›´è§‚çš„å°±æ˜¯å†…å­˜çš„æŸè€—ã€‚äº«å…ƒå¯¹è±¡èƒ½åšåˆ°å…±äº«çš„å…³é”®æ˜¯åŒºåˆ†å†…è•´çŠ¶æ€(Internal State)å’Œå¤–è•´çŠ¶æ€(External State)ã€‚</p>
<p>å†…è•´çŠ¶æ€å†³å®šå¯¹è±¡æœ¬èº«çš„çŠ¶æ€ï¼Œä¸ä¼šéšç€ç¯å¢ƒçš„å˜åŒ–è€Œå˜åŒ–ï¼Œè€Œå¤–è•°çŠ¶æ€æ˜¯ç”±å®¢æˆ·ç«¯å°†çŠ¶æ€ä¼ é€’ç»™äº«å…ƒå¯¹è±¡çš„ï¼Œå¤–è•´çŠ¶æ€ç±»ä¼¼åŒä¸€ä¸ªå¯¹è±¡çš„ä¸åŒçš„è¡Œä¸ºï¼Œå†…è•´çŠ¶æ€å’Œå¤–è•°çŠ¶æ€æ˜¯ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å½±å“çš„ã€‚</p>
<p>äº«å…ƒæ¨¡å¼ä¸»è¦è¿™å‡ ä¸‰ä¸ªéƒ¨åˆ†ï¼šæŠ½è±¡äº«å…ƒç±»ï¼Œå…·ä½“äº«å…ƒç±»å’Œäº«å…ƒå·¥å‚ç±»ã€‚å…·ä½“å¯ä»¥å‚è€ƒä¸‹é¢ä»£ç ã€‚</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190613005252.png" alt="äº«å…ƒæ¨¡å¼"></p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>åœ¨Javaä¸­ï¼ŒStringç±»å°±ç¬¦åˆäº«å…ƒæ¨¡å¼ï¼Œ<code>string a = &quot;aa&quot;</code> å’Œ <code>string b =&quot;aa&quot;</code> æ˜¯ç›¸ç­‰çš„ã€‚</p>
<p>åœ¨ä¸‹é¢ä¾‹å­ä¸­ï¼Œæ„é€ æŠ½è±¡äº«å…ƒç±»â€œMyStringâ€ å’Œå®ƒçš„å…·ä½“å®ç°ç±»ï¼Œä½¿ç”¨åˆ°ç›¸åŒçš„å¯¹è±¡ï¼Œå› ä¸ºäº«å…ƒæ¨¡å¼ï¼Œå¯ä»¥å¯¹è¿™äº›å¯¹è±¡è¿›è¡Œå…±äº«ä½¿ç”¨ã€‚</p>
<p>ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡äº«å…ƒç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyString</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">create</span><span class="params">(String outerState)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æšä¸¾ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> InstanceType &#123;</span><br><span class="line">    INSTANCE1,INSTANCE2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒéƒ¨åˆ†ï¼šå…·ä½“äº«å…ƒç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringIns1</span> <span class="keyword">implements</span> <span class="title">MyString</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†…éƒ¨çŠ¶æ€ï¼Œä¸å¯éšæ—¶å˜åŒ–çš„</span></span><br><span class="line">    String innerState;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StringIns1</span><span class="params">(String innerState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.innerState = innerState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">create</span><span class="params">(String outerState)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"create instance 1 -&gt; innerState:"</span>+<span class="keyword">this</span>.innerState);</span><br><span class="line">        <span class="comment">//å¤–éƒ¨çŠ¶æ€ï¼Œéœ€è¦å®¢æˆ·ç«¯ä¼ è¿›æ¥ï¼Œè¿™ä¸ªå€¼æ˜¯å¯å˜åŒ–çš„</span></span><br><span class="line">        System.out.println(<span class="string">"create instance 1 -&gt; outerState:"</span>+outerState);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringIns2</span> <span class="keyword">implements</span> <span class="title">MyString</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    String innerState;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StringIns2</span><span class="params">(String innerState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.innerState = innerState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">create</span><span class="params">(String outerState)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"create instance 2 -&gt; innerState:"</span>+<span class="keyword">this</span>.innerState);</span><br><span class="line">        System.out.println(<span class="string">"create instance 2 -&gt; outerState:"</span>+outerState);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šäº«å…ƒå·¥å‚ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FlyWeight</span> </span>&#123;</span><br><span class="line">    Map&lt;InstanceType,MyString&gt; store;</span><br><span class="line"></span><br><span class="line">    FlyWeight() &#123;</span><br><span class="line">        store = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MyString <span class="title">factory</span><span class="params">(InstanceType instanceType)</span></span>&#123;</span><br><span class="line">        MyString curr = store.get(instanceType);</span><br><span class="line">        <span class="keyword">if</span>(curr == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">// å¦‚æœå¯¹è±¡ä¸å­˜åœ¨ï¼Œæ–°å»ºå¯¹åº”çš„å¯¹è±¡</span></span><br><span class="line">            <span class="keyword">if</span>(instanceType.equals(InstanceType.INSTANCE1))&#123;</span><br><span class="line">            <span class="comment">// æ ¹æ®å†…éƒ¨çŠ¶æ€å†³å®šç”Ÿæˆå“ªä¸ªç±»å‹çš„å­ç±»</span></span><br><span class="line">                curr= <span class="keyword">new</span> StringIns1(instanceType.toString());</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(instanceType.equals(InstanceType.INSTANCE2))&#123;</span><br><span class="line">                curr= <span class="keyword">new</span> StringIns2(instanceType.toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        store.put(instanceType,curr);</span><br><span class="line">        <span class="keyword">return</span> curr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬å››éƒ¨åˆ†ï¼šå®¢æˆ·ç«¯è°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        FlyWeight flyWeight = <span class="keyword">new</span> FlyWeight();</span><br><span class="line">        MyString ins1 = flyWeight.factory(InstanceType.INSTANCE1);</span><br><span class="line">        MyString ins2 = flyWeight.factory(InstanceType.INSTANCE1);</span><br><span class="line">        System.out.println(ins1.equals(ins2));<span class="comment">//true æ˜¯åŒä¸€ä¸ªå¯¹è±¡ å†…éƒ¨çŠ¶æ€ç›¸åŒ</span></span><br><span class="line">        ins1.create(<span class="string">"*****"</span>); <span class="comment">//é’ˆå¯¹å¤–éƒ¨çŠ¶æ€æ‰“å°ä¸åŒå†…å®¹</span></span><br><span class="line">        ins2.create(<span class="string">"-----"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">true</span><br><span class="line">create instance 1 -&gt; innerState:INSTANCE1</span><br><span class="line">create instance 1 -&gt; outerState:*****</span><br><span class="line">create instance 1 -&gt; innerState:INSTANCE1</span><br><span class="line">create instance 1 -&gt; outerState:-----</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    <div>
      
    </div>
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://nanyiniu.github.io/2019/06/12/2019-06-12-è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="NanYin">
      <meta itemprop="description" content>
      <meta itemprop="image" content="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618233250.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="NanYinçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/12/2019-06-12-è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼/" itemprop="url">è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-06-12T12:00:00Z">
                2019-06-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/è®¾è®¡æ¨¡å¼/" itemprop="url" rel="index">
                    <span itemprop="name">è®¾è®¡æ¨¡å¼</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  596
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼</h1><p>å¤–éƒ¨ä¸ä¸€ä¸ªå­ç³»ç»Ÿçš„é€šä¿¡å¿…é¡»é€šè¿‡ä¸€ä¸ªç»Ÿä¸€çš„å¤–è§‚å¯¹è±¡è¿›è¡Œï¼Œä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œä½¿å­ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ul>
<li>å› ä¸ºå­ç³»ç»Ÿéšç€å‘å±•ä¼šå˜æ›´çš„æ›´å¤æ‚ï¼Œå®¢æˆ·ç«¯æƒ³æ›´ç®€å•ç»Ÿä¸€ç»™å­ç³»ç»Ÿå»ºç«‹ä¸€ä¸ªå…¬å…±çš„è°ƒç”¨æ–¹å¼ã€‚è¿™æ ·å³ä½¿å­ç³»ç»Ÿçš„å†å¢åŠ å¯é‡ç”¨æ€§è€Œå˜å¾—æ›´åŠ å¤æ‚ï¼Œå®¢æˆ·ç«¯ä¹Ÿä¸å¿…çŸ¥é“ï¼Œå› ä¸ºå®¢æˆ·ç«¯å¾€å¾€ä¸éœ€è¦é’ˆå¯¹æŸä¸€ä¸ªå­ç³»ç»Ÿè¿›è¡Œç‰¹å®šçš„å®šåˆ¶åŒ–ã€‚</li>
<li>å®ç°äº†å­ç³»ç»Ÿä¸å®¢æˆ·ä¹‹é—´çš„æ¾è€¦åˆå…³ç³»ï¼Œè¿™ä½¿å¾—å­ç³»ç»Ÿçš„ç»„ä»¶å˜åŒ–ä¸ä¼šå½±å“åˆ°è°ƒç”¨å®ƒçš„å®¢æˆ·ç±»ï¼Œåªéœ€è¦è°ƒæ•´å¤–è§‚ç±»å³å¯ã€‚</li>
</ul>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p>å¤–è§‚æ¨¡å¼ä¸­å®¢æˆ·ç«¯ä¾é Facadeç±»æ¥è°ƒç”¨å¤šä¸ªå­ç³»ç»Ÿï¼Œæ¥è¾¾åˆ°ç®€åŒ–å®¢æˆ·ç«¯è°ƒç”¨çš„ç›®çš„ã€‚</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190613005252.png" alt="å¤–è§‚æ¨¡å¼"></p>
<p>ä¾‹å­ä¸­ï¼Œæ¯æ¬¡å¼€æœºçš„æ—¶å€™éƒ½è¦å¯åŠ¨mysql,apacheæœåŠ¡ï¼Œä¸¤ä¸ªè¿˜å¥½ï¼Œè¦æ˜¯æœ‰æ›´å¤šæœåŠ¡å²‚ä¸æ˜¯å¾ˆæ¼äººï¼Œæ¯æ¬¡éƒ½è¦æ•²ä¸€å¤§å †å‘½ä»¤æ¥å¼€å¯æœåŠ¡ã€‚è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨å¤–è§‚æ¨¡å¼ï¼Œå°†æ‰€æœ‰æœåŠ¡åŠ å…¥åˆ°å¤–è§‚ç±»ä¸­ï¼Œæ¯æ¬¡å¼€æœºåªç”¨è°ƒç”¨å¤–è§‚ç±»ä¸­çš„æ¥å£å°±è¡Œäº†ã€‚æ¥è¾¾åˆ°ç®€åŒ–å®¢æˆ·ç«¯ä½¿ç”¨çš„ç›®çš„ã€‚</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>ç¬¬ä¸€éƒ¨åˆ†ï¼šå­ç³»ç»Ÿæ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Services</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">start</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">restart</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// mysql æœåŠ¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MysqlService</span> <span class="keyword">implements</span> <span class="title">Services</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"mysql is started"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"mysql is stopped"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">restart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"mysql is restart"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// apache æœåŠ¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApacheService</span> <span class="keyword">implements</span> <span class="title">Services</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"apache is started"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"apache is stopped"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">restart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"apache is restart"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒéƒ¨åˆ†ï¼šå¤–è§‚ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Facade</span> </span>&#123;</span><br><span class="line">    List&lt;Services&gt; services;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Facade</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        services = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addService</span><span class="params">(Services services)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.services.add(services);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Services services : <span class="keyword">this</span>.services)&#123;</span><br><span class="line">            services.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Services services : <span class="keyword">this</span>.services)&#123;</span><br><span class="line">            services.stop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">restart</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Services services : <span class="keyword">this</span>.services)&#123;</span><br><span class="line">            services.restart();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®¢æˆ·ç«¯è°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Facade facade = <span class="keyword">new</span> Facade();</span><br><span class="line">        facade.addService(<span class="keyword">new</span> MysqlService());</span><br><span class="line">        facade.addService(<span class="keyword">new</span> ApacheService());</span><br><span class="line">        facade.start();</span><br><span class="line">        facade.stop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql is started</span><br><span class="line">apache is started</span><br><span class="line">mysql is stopped</span><br><span class="line">apache is stopped</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    <div>
      
    </div>
<div>
      
</div>
    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618233250.png" alt="NanYin">
            
              <p class="site-author-name" itemprop="name">NanYin</p>
              <p class="site-description motion-element" itemprop="description">Was mich nicht umbringt, macht mich starker.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">93</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/NanYinIU" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="1977713379@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

        
          <div class="links-of-blogroll motion-element links-of-blogroll-block">
           <div class="links-of-blogroll-title">
             <!-- modify icon to fire by szw -->
             <i class="fa fa-history fa-" aria-hidden="true"></i>
             è¿‘æœŸæ–‡ç« 
           </div>
           <ul class="links-of-blogroll-list">
             
             
               <li>
                 <a href="/2019/12/11/ï¼ˆå››ï¼‰AOPåˆ‡é¢ä½¿ç”¨ä¸åŸç†/" title="SpringAOPçš„ä½¿ç”¨å’Œæºç åˆ†æ" target="_blank">SpringAOPçš„ä½¿ç”¨å’Œæºç åˆ†æ</a>
               </li>
             
               <li>
                 <a href="/2019/12/07/ï¼ˆä¸‰ï¼‰è‡ªåŠ¨è£…é…/" title="Springä¸­çš„è‡ªåŠ¨è£…é…" target="_blank">Springä¸­çš„è‡ªåŠ¨è£…é…</a>
               </li>
             
               <li>
                 <a href="/2019/12/05/ï¼ˆäºŒï¼‰Beançš„ç”Ÿå‘½å‘¨æœŸ/" title="Beançš„ç”Ÿå‘½å‘¨æœŸ" target="_blank">Beançš„ç”Ÿå‘½å‘¨æœŸ</a>
               </li>
             
               <li>
                 <a href="/2019/12/01/ï¼ˆä¸€ï¼‰ å°†ç±»åŠ å…¥åˆ°å®¹å™¨ä¸­çš„æ–¹å¼/" title="å°†ç±»æ·»åŠ è‡³å®¹å™¨ä¸­çš„å››ç§æ–¹æ³•" target="_blank">å°†ç±»æ·»åŠ è‡³å®¹å™¨ä¸­çš„å››ç§æ–¹æ³•</a>
               </li>
             
               <li>
                 <a href="/2019/08/15/2019-08-15-Springçš„ç¼“å­˜/" title="Springçš„ç¼“å­˜" target="_blank">Springçš„ç¼“å­˜</a>
               </li>
             
           </ul>
         </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">NanYin</span>

</div>


  <span class="post-meta-divider">|</span>


<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  æœ¬ç«™è®¿å®¢æ•°:<span id="busuanzi_value_site_uv"></span>
</span>
</div>

<span class="post-meta-divider">|</span>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">åšå®¢å…¨ç«™å…±98.4kå­—</span>
</div>


  <span class="post-meta-divider">|</span>





        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
