<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>åˆ†ç±»: è®¾è®¡æ¨¡å¼ - NanYinçš„åšå®¢</title><meta description="Was mich nicht umbringt, macht mich starker."><meta property="og:type" content="blog"><meta property="og:title" content="NanYinçš„åšå®¢"><meta property="og:url" content="https://nanyiniu.github.io/"><meta property="og:site_name" content="NanYinçš„åšå®¢"><meta property="og:description" content="Was mich nicht umbringt, macht mich starker."><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://nanyiniu.github.io/img/og_image.png"><meta property="article:author" content="NanYin"><meta property="article:tag" content="æŠ€æœ¯ ç”Ÿæ´»"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://nanyiniu.github.io"},"headline":"NanYinçš„åšå®¢","image":["https://nanyiniu.github.io/img/og_image.png"],"author":{"@type":"Person","name":"NanYin"},"description":"Was mich nicht umbringt, macht mich starker."}</script><link rel="icon" href="/img/Fail.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?53e5c0e399c6e3142f9ad8241fdba1b1";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/Fail.png" alt="NanYinçš„åšå®¢" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="My Github" href="https://github.com/NanYinIU"><i class="fab fa-github"></i></a><a class="navbar-item search" title="æœç´¢" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">åˆ†ç±»</a></li><li class="is-active"><a href="#" aria-current="page">è®¾è®¡æ¨¡å¼</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-28T12:00:00.000Z" title="2019-06-28T12:00:00.000Z">2019-06-28</time><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></span><span class="level-item">5 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 761 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/28/2019-06-28-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼ä¹‹å‘½ä»¤æ¨¡å¼</a></h1><div class="content"><h1 id="è®¾è®¡æ¨¡å¼ä¹‹å‘½ä»¤æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹å‘½ä»¤æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹å‘½ä»¤æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹å‘½ä»¤æ¨¡å¼</h1><p>å‘½ä»¤æ¨¡å¼æ˜¯å¯¹è±¡çš„è¡Œä¸ºæ¨¡å¼ï¼Œå‘½ä»¤æ¨¡å¼å°†ä¸€ä¸ªè¯·æ±‚å°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œè®©ä½ ä½¿ç”¨ä¸åŒçš„è¯·æ±‚æŠŠå®¢æˆ·ç«¯å‚æ•°åŒ–ï¼Œå¯¹è¯·æ±‚æ’é˜Ÿæˆ–è€…è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œå¯ä»¥æä¾›å‘½ä»¤çš„æ’¤é”€å’Œæ¢å¤åŠŸèƒ½ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ol>
<li><p>é€šè¿‡è¦æ‰§è¡Œçš„æ“ä½œæ¥å‚æ•°åŒ–å¯¹è±¡ã€‚å¯ä»¥ä½¿ç”¨å›è°ƒå‡½æ•°åœ¨è¿‡ç¨‹è¯­è¨€ä¸­è¡¨è¾¾æ­¤ç±»å‚æ•°åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŸä¸ªå‡½æ•°å·²æ³¨å†Œåˆ°ç¨åè¦è°ƒç”¨çš„æŸä¸ªä½ç½®ã€‚å‘½ä»¤æ¨¡å¼å¯ä»¥è¯´æ˜¯é¢å‘å¯¹è±¡çš„å›è°ƒå‡½æ•°ã€‚èµ·åˆ°åœ¨ç‰¹å®šä½ç½®è¢«è°ƒç”¨çš„ç›®çš„ã€‚</p>
</li>
<li><p>åœ¨ä¸åŒçš„æ—¶é—´ä¸‹è¿›è¡Œå‘å‡ºè¯·æ±‚å’Œæ‰§è¡Œè¯·æ±‚ï¼Œå‘½ä»¤å¯¹è±¡å¯ä»¥ç‹¬ç«‹äºè¯·æ±‚ï¼Œæ‹¥æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç”Ÿå‘½å‘¨æœŸã€‚å‘½ä»¤å…è®¸è¯·æ±‚çš„ä¸€æ–¹å’Œæ¥æ”¶è¯·æ±‚çš„ä¸€æ–¹èƒ½å¤Ÿç‹¬ç«‹æ¼”åŒ–ã€‚</p>
</li>
<li><p>æ’¤é”€æ“ä½œï¼Œå‘½ä»¤æ¨¡å¼å¯ä»¥åœ¨å‘½ä»¤æ‰§è¡Œçš„æ—¶å€™å¯ä»¥åœ¨å‘½ä»¤ç±»ä¸­å­˜è´®å½“å‰çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡éå†æ­¤åˆ—è¡¨å¹¶åˆ†åˆ«è½¬å‘è°ƒç”¨unexecuteå’Œexecuteæ¥å®ç°æ— é™çº§åˆ«çš„æ’¤é”€å’Œé‡åšã€‚</p>
</li>
<li><p>å¯ä»¥æ›´å®¹æ˜“çš„å°†å‘½ä»¤è®°å½•åˆ°æ—¥å¿—ä¸­ã€‚</p>
</li>
<li><p>å‘½ä»¤æ¨¡å¼ä½¿æ–°çš„å‘½ä»¤å¾ˆå®¹æ˜“åœ°è¢«åŠ å…¥åˆ°ç³»ç»Ÿé‡Œã€‚å…·æœ‰å¾ˆå¥½çš„æ‹“å±•æ€§ã€‚</p>
</li>
</ol>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><div align='center'><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190702190857.png" style="zoom:50%"/></div>

<p>å‘½ä»¤æ¨¡å¼æ¶‰åŠåˆ°äº”ä¸ªè§’è‰²ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š</p>
<ol>
<li><p><code>å®¢æˆ·ç«¯(Client)</code>è§’è‰²ï¼šåˆ›å»ºä¸€ä¸ªå…·ä½“å‘½ä»¤(ConcreteCommand)å¯¹è±¡å¹¶ç¡®å®šå…¶æ¥æ”¶è€…ã€‚</p>
</li>
<li><p><code>å‘½ä»¤(Command)</code>è§’è‰²ï¼šå£°æ˜äº†ä¸€ä¸ªç»™æ‰€æœ‰å…·ä½“å‘½ä»¤ç±»çš„æŠ½è±¡æ¥å£ã€‚</p>
</li>
<li><p><code>å…·ä½“å‘½ä»¤(ConcreteCommand)</code>è§’è‰²ï¼šå®šä¹‰ä¸€ä¸ªæ¥æ”¶è€…å’Œè¡Œä¸ºä¹‹é—´çš„å¼±è€¦åˆï¼›å®ç°execute()æ–¹æ³•ï¼Œè´Ÿè´£è°ƒç”¨æ¥æ”¶è€…çš„ç›¸åº”æ“ä½œã€‚execute()æ–¹æ³•é€šå¸¸å«åšæ‰§è¡Œæ–¹æ³•ã€‚</p>
</li>
<li><p><code>è¯·æ±‚è€…(Invoker)</code>è§’è‰²ï¼šè´Ÿè´£è°ƒç”¨å‘½ä»¤å¯¹è±¡æ‰§è¡Œè¯·æ±‚ï¼Œç›¸å…³çš„æ–¹æ³•å«åšè¡ŒåŠ¨æ–¹æ³•ã€‚</p>
</li>
<li><p><code>æ¥æ”¶è€…(Receiver)</code>è§’è‰²ï¼šè´Ÿè´£å…·ä½“å®æ–½å’Œæ‰§è¡Œä¸€ä¸ªè¯·æ±‚ã€‚ä»»ä½•ä¸€ä¸ªç±»éƒ½å¯ä»¥æˆä¸ºæ¥æ”¶è€…ï¼Œå®æ–½å’Œæ‰§è¡Œè¯·æ±‚çš„æ–¹æ³•å«åšè¡ŒåŠ¨æ–¹æ³•</p>
</li>
</ol>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><h3 id="æŠ½è±¡å‘½ä»¤è§’è‰²"><a href="#æŠ½è±¡å‘½ä»¤è§’è‰²" class="headerlink" title="æŠ½è±¡å‘½ä»¤è§’è‰²"></a>æŠ½è±¡å‘½ä»¤è§’è‰²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Command</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">excute</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è¯·æ±‚è€…è§’è‰²"><a href="#è¯·æ±‚è€…è§’è‰²" class="headerlink" title="è¯·æ±‚è€…è§’è‰²"></a>è¯·æ±‚è€…è§’è‰²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯·æ±‚è€…ç”¨æ¥è¯·æ±‚å‘½ä»¤</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">King</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Command command;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Command <span class="title">invoke</span><span class="params">(Command command)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.command = command;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.command;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">action</span><span class="params">()</span></span>&#123;</span><br><span class="line">        command.excute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ¥æ”¶è€…è§’è‰²"><a href="#æ¥æ”¶è€…è§’è‰²" class="headerlink" title="æ¥æ”¶è€…è§’è‰²"></a>æ¥æ”¶è€…è§’è‰²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Soldier</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¡ŒåŠ¨æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">prepareWeapon</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Soldier prepare Weapon !!!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">attack</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Soldier Attack!!!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">retreat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Soldier Retreat!!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…·ä½“å‘½ä»¤è€…è§’è‰²"><a href="#å…·ä½“å‘½ä»¤è€…è§’è‰²" class="headerlink" title="å…·ä½“å‘½ä»¤è€…è§’è‰²"></a>å…·ä½“å‘½ä»¤è€…è§’è‰²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AttackCommand</span> <span class="keyword">implements</span> <span class="title">Command</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    Soldier soldier ;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">AttackCommand</span><span class="params">(Soldier soldier)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.soldier = soldier;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">excute</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ”¶åˆ°è¯·æ±‚ï¼Œæ‰§è¡Œæ“ä½œ</span></span><br><span class="line">        soldier.prepareWeapon();</span><br><span class="line">        soldier.attack();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®¢æˆ·ç«¯ä»£ç "><a href="#å®¢æˆ·ç«¯ä»£ç " class="headerlink" title="å®¢æˆ·ç«¯ä»£ç "></a>å®¢æˆ·ç«¯ä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//  æ¥å—è€…å’Œè¯·æ±‚è€…</span></span><br><span class="line">        King king = <span class="keyword">new</span> King();</span><br><span class="line">        Soldier soldier = <span class="keyword">new</span> Soldier();</span><br><span class="line">        <span class="comment">// è¯·æ±‚è€…è¯·æ±‚å‘½ä»¤</span></span><br><span class="line">        king.invoke(<span class="keyword">new</span> AttackCommand(soldier));</span><br><span class="line">        <span class="comment">// è¯·æ±‚è€…å‘èµ·å‘½ä»¤</span></span><br><span class="line">        king.action();</span><br><span class="line">        king.invoke(<span class="keyword">new</span> RetreatCommand(soldier));</span><br><span class="line">        king.action();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-27T12:00:00.000Z" title="2019-06-27T12:00:00.000Z">2019-06-27</time><span class="level-item"> NanYin </span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></span><span class="level-item">3 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 506 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/27/2019-06-27-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼ä¹‹è¿­ä»£å™¨æ¨¡å¼</a></h1><div class="content"><h1 id="è®¾è®¡æ¨¡å¼ä¹‹è¿­ä»£å™¨æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹è¿­ä»£å™¨æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹è¿­ä»£å™¨æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹è¿­ä»£å™¨æ¨¡å¼</h1><p>è¿­ä»£å™¨æ˜¯ä¸€ç§è¡Œä¸ºæ¨¡å¼ï¼Œå®ƒæä¾›ä¸€ç§é¡ºåºè®¿é—®èšåˆå¯¹è±¡å…ƒç´ çš„æ–¹æ³•ï¼Œè€Œä¸ä¼šæš´éœ²å…¶åŸºç¡€è¡¨ç¤ºã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ul>
<li>æŒ‡å‘è®¿é—®é›†åˆå¯¹è±¡å†…å®¹ï¼Œè€Œä¸æš´éœ²å…¶å†…éƒ¨å®ç°ã€‚</li>
<li>å¯ä»¥å¯¹é›†åˆå¯¹è±¡å¤šæ¬¡éå†</li>
<li>ä¸ºä¸åŒé›†åˆå¯¹è±¡æä¾›ç»Ÿä¸€çš„éå†æ¥å£</li>
</ul>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p>è¿­ä»£å™¨æ¨¡å¼å¤§è‡´åˆ†ä¸ºå››ä¸ªè§’è‰²ï¼šæŠ½è±¡å®¹å™¨ï¼Œå…·ä½“å®¹å™¨ï¼ŒæŠ½è±¡è¿­ä»£å™¨ï¼Œå…·ä½“è¿­ä»£å™¨ã€‚ç»“æ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190627224735.png" alt="ç»“æ„å›¾"></p>
<p>å®¹å™¨ä¸€èˆ¬ä¸ºä¸€ç§æ•°æ®ç»“æ„çš„ç±»ï¼Œä¾‹å¦‚listã€mapã€‚ è¿­ä»£å™¨æ˜¯æä¾›éå†è¿™ä¸ªæ•°æ®ç»“æ„çš„æ–¹æ³•çš„ç±»ã€‚</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>åœ¨javaä¸­æä¾›å¾ˆå¤šIteratorçš„æ¨¡å¼ã€‚ä¾‹å¦‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">example</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        list.add(<span class="number">1</span>);</span><br><span class="line">        list.add(<span class="number">2</span>);</span><br><span class="line">        Iterator iterator = (Iterator) list.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„<code>ArrayList</code>ç±»ä¸­å®ç°ç±»<code>Iterator</code>æ¥å£çš„å†…éƒ¨ç±»ï¼Œå¹¶ä¸”ä½¿ç”¨<code>iterator()</code>æ–¹æ³•è°ƒç”¨<code>new Itr();</code>ï¼Œå…·ä½“å†…å®¹å¯ä»¥æŸ¥çœ‹ArrayListæºç ã€‚</p>
<p>ä¸‹é¢è‡ªå·±å®ç°ä¸€ä¸ªç®€å•çš„<code>Iterator</code>.</p>
<h3 id="ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡è¿­ä»£å™¨"><a href="#ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡è¿­ä»£å™¨" class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡è¿­ä»£å™¨"></a>ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡è¿­ä»£å™¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">E <span class="title">next</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬äºŒéƒ¨åˆ†ï¼šæŠ½è±¡å®¹å™¨ç±»"><a href="#ç¬¬äºŒéƒ¨åˆ†ï¼šæŠ½è±¡å®¹å™¨ç±»" class="headerlink" title="ç¬¬äºŒéƒ¨åˆ†ï¼šæŠ½è±¡å®¹å™¨ç±»"></a>ç¬¬äºŒéƒ¨åˆ†ï¼šæŠ½è±¡å®¹å™¨ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Task</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> mark)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">removeLast</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">Iterator&lt;Object&gt; <span class="title">iterator</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®ç°ç±»"><a href="#ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®ç°ç±»" class="headerlink" title="ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®ç°ç±»"></a>ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®ç°ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTask</span> <span class="keyword">implements</span> <span class="title">Task</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> size = <span class="number">0</span> ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object[] taskTag = <span class="keyword">new</span> Object[<span class="number">16</span>];</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> mark)</span> </span>&#123;</span><br><span class="line">        taskTag[size] = mark;</span><br><span class="line">        size ++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeLast</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        taskTag[--size] = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterator&lt;Object&gt; <span class="title">iterator</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// è°ƒç”¨å†…éƒ¨ç±»å®ç°è¿­ä»£å™¨</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MyTaskItr();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨å†…éƒ¨ç±»å®ç°è¿­ä»£å™¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTaskItr</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Object</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">int</span> curr;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> size != curr;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Object <span class="title">next</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">int</span> i = curr;</span><br><span class="line">            <span class="keyword">if</span>(i &gt;= size)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException(<span class="string">"no element"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> taskTag[curr++];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®¢æˆ·ç«¯è°ƒç”¨"><a href="#å®¢æˆ·ç«¯è°ƒç”¨" class="headerlink" title="å®¢æˆ·ç«¯è°ƒç”¨"></a>å®¢æˆ·ç«¯è°ƒç”¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Task task = <span class="keyword">new</span> MyTask();</span><br><span class="line">        task.add(<span class="number">1</span>);</span><br><span class="line">        task.add(<span class="number">3</span>);</span><br><span class="line">        task.add(<span class="number">4</span>);</span><br><span class="line">        task.add(<span class="number">2</span>);</span><br><span class="line">        task.removeLast();</span><br><span class="line">        task.removeLast();</span><br><span class="line">        task.add(<span class="number">5</span>);</span><br><span class="line">        Iterator taskIterator = task.iterator();</span><br><span class="line">        <span class="keyword">while</span>(taskIterator.hasNext())&#123;</span><br><span class="line">            System.out.println(taskIterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç»“æœä¾æ¬¡æ‰“å°å‡º 1ï¼Œ3ï¼Œ5</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç®€å•è€Œå¼ºå¤§çš„è¿­ä»£å™¨æ¨¡å¼ã€‚</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-25T12:00:00.000Z" title="2019-06-25T12:00:00.000Z">2019-06-25</time><span class="level-item"> NanYin </span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></span><span class="level-item">4 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 654 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/25/2019-06-25-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼</a></h1><div class="content"><h1 id="è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼ğŸ“•"><a href="#è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼ğŸ“•" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼ğŸ“•"></a>è®¾è®¡æ¨¡å¼ä¹‹å¤‡å¿˜å½•æ¨¡å¼ğŸ“•</h1><p>ä¸è¿åå°è£…çš„æƒ…å†µä¸‹ï¼Œæ•è·å¹¶å¤–åŒ–å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œä»¥ä¾¿ç¨åå¯ä»¥å°†å¯¹è±¡æ¢å¤åˆ°æ­¤çŠ¶æ€ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p>å¿…é¡»ä¿å­˜å¯¹è±¡çŠ¶æ€çš„å¿«ç…§ï¼Œä»¥ä¾¿ä»¥åå¯ä»¥å°†å…¶æ¢å¤åˆ°è¯¥çŠ¶æ€</p>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p>æ¨¡å¼ç»“æ„åˆ†ä¸ºä¸‰ç§ç»“æ„ï¼š</p>
<ol>
<li><strong>å‘èµ·äºº (Originator)</strong><br>è´Ÿè´£åˆ›å»ºä¸€ä¸ªæœ‰å†…éƒ¨çŠ¶æ€çš„å¤‡å¿˜å½•å¯¹è±¡ã€‚</li>
<li><strong>è´Ÿè´£äºº (Caretaker)</strong><br>è´Ÿè´£ä¿å­˜å¤‡å¿˜å½•å†…å®¹ï¼Œä½†æ˜¯ä¸æ£€æŸ¥å¤‡å¿˜å½•çš„å†…å®¹ã€‚</li>
<li><strong>å¤‡å¿˜å½• (Memento)</strong><br>ä¿å­˜å‘èµ·äººçš„å†…éƒ¨çš„çŠ¶æ€ã€‚</li>
</ol>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190625232202.png" alt="æ¨¡å¼ç»“æ„"></p>
<p>ä¸Šå›¾ä¸­çš„ActionGameä¸ºè´Ÿè´£äººï¼Œè´Ÿè´£ä¿å­˜çŠ¶æ€ï¼ŒPlayerä¸ºå‘èµ·äººè´Ÿè´£ä¸»åŠ¨è®°å½•å¤‡å¿˜å½•ã€‚</p>
<h3 id="å®é™…åœºæ™¯"><a href="#å®é™…åœºæ™¯" class="headerlink" title="å®é™…åœºæ™¯"></a>å®é™…åœºæ™¯</h3><p>åœ¨ç©å•æœºæ¸¸æˆçš„æ—¶å€™ï¼Œåœ¨é€šè¿‡ä¸€ä¸ªå…³å¡çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè®°å½•ä½ å½“æ—¶çš„çŠ¶æ€ä¿¡æ¯ï¼Œå¦‚æœä¸‹ä¸€å…³æ²¡é€šè¿‡ï¼Œä¼šè‡ªåŠ¨è¿˜åŸåˆ°ä¸Šä¸€ä¸ªè®°å½•ç‚¹ä»æ–°å¼€å§‹ã€‚è¿™ç§æƒ…å†µä¸‹å°±å¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼è®°å½•å­˜æ¡£çŠ¶æ€ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶å€™è¿˜åŸçŠ¶æ€ã€‚é’ˆå¯¹æ­¤å¤„åœºæ™¯ï¼Œä½¿ç”¨ä¸‹é¢ä»£ç è¿˜åŸã€‚</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><h3 id="ä½œä¸ºå‘èµ·è€…çš„Player"><a href="#ä½œä¸ºå‘èµ·è€…çš„Player" class="headerlink" title="ä½œä¸ºå‘èµ·è€…çš„Player"></a>ä½œä¸ºå‘èµ·è€…çš„Player</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Player</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ¸¸æˆçŠ¶æ€</span></span><br><span class="line">    <span class="keyword">private</span> GameState gameState;</span><br><span class="line"></span><br><span class="line">    Player(GameState gameState) &#123;</span><br><span class="line">        <span class="keyword">this</span>.gameState = gameState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®çŠ¶æ€</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setGameState</span><span class="params">(GameState gameState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.gameState = gameState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–çŠ¶æ€</span></span><br><span class="line">    <span class="function">GameState <span class="title">getGameState</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> gameState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºå­˜æ¡£è®°å½•</span></span><br><span class="line">    <span class="function">Memento <span class="title">createMemento</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Memento(gameState);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å›é€€å­˜æ¡£è®°å½•</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">retrieveMemento</span><span class="params">(Memento memento)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.gameState = memento.getGameState();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½œä¸ºè´Ÿè´£äººçš„ActionGame"><a href="#ä½œä¸ºè´Ÿè´£äººçš„ActionGame" class="headerlink" title="ä½œä¸ºè´Ÿè´£äººçš„ActionGame"></a>ä½œä¸ºè´Ÿè´£äººçš„ActionGame</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Game</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">storeGamePoint</span><span class="params">(Memento memento)</span></span>;</span><br><span class="line">    <span class="function">Memento <span class="title">retrieveGamePoint</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActionGame</span> <span class="keyword">implements</span> <span class="title">Game</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Memento memento;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å­˜æ¡£è®°å½•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Author</span> nanyin</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Date</span> 17:31 2019-06-26</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> memento 1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">storeGamePoint</span><span class="params">(Memento memento)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.memento = memento;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿˜åŸè®°å½•ç‚¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Author</span> nanyin</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@Date</span> 17:32 2019-06-26</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Memento</span></span><br><span class="line"><span class="comment">     **/</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Memento <span class="title">retrieveGamePoint</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.memento;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½œä¸ºå¤‡å¿˜å½•çš„Memento"><a href="#ä½œä¸ºå¤‡å¿˜å½•çš„Memento" class="headerlink" title="ä½œä¸ºå¤‡å¿˜å½•çš„Memento"></a>ä½œä¸ºå¤‡å¿˜å½•çš„Memento</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Memento</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> GameState gameState;</span><br><span class="line">    Memento(GameState gameState) &#123;</span><br><span class="line">        <span class="keyword">this</span>.gameState = gameState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">GameState <span class="title">getGameState</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> gameState;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> GameState &#123;</span><br><span class="line">    DIE,SUCCESS</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®¢æˆ·ç«¯ç¨‹åº"><a href="#å®¢æˆ·ç«¯ç¨‹åº" class="headerlink" title="å®¢æˆ·ç«¯ç¨‹åº"></a>å®¢æˆ·ç«¯ç¨‹åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªåŠ¨ä½œç±»å‹çš„æ¸¸æˆ</span></span><br><span class="line">        Game actionGame = <span class="keyword">new</span> ActionGame();</span><br><span class="line">        <span class="comment">//ç©å®¶é€šå…³</span></span><br><span class="line">        Player player = <span class="keyword">new</span> Player(GameState.SUCCESS);</span><br><span class="line">        <span class="comment">//å­˜æ¡£</span></span><br><span class="line">        Memento memento = player.createMemento();</span><br><span class="line">        actionGame.storeGamePoint(memento);</span><br><span class="line">        <span class="comment">//æ­¤æ—¶ç©å®¶é˜µäº¡</span></span><br><span class="line">        player.setGameState(GameState.DIE);</span><br><span class="line">        System.out.println(player.getGameState());</span><br><span class="line">        <span class="comment">//éœ€è¦ä»ä¸Šä¸€æ¬¡æ¸¸æˆå­˜æ¡£ä¸­åŠ è½½åŸæ¥çš„ç©å®¶çŠ¶æ€</span></span><br><span class="line">        player.retrieveMemento(actionGame.retrieveGamePoint());</span><br><span class="line">        System.out.println(player.getGameState());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ¸¸æˆå­˜æ¡£åæ­»äº¡ï¼Œå†é‡å¤è¯»å­˜æ¡£ï¼Œå¾—åˆ°ä¹‹å‰å­˜æ¡£ä¹‹å‰çš„çŠ¶æ€ã€‚æ¸¸æˆä¸ä¼šä¸»åŠ¨å­˜æ¡£å’Œè¯»å–å­˜æ¡£ï¼Œåªä¼šè®°å½•å­˜æ¡£ä¸­çš„å†…å®¹ï¼Œè€Œç©å®¶ä¼šä¸»åŠ¨ä»æ¸¸æˆä¸­è¯»å–å­˜æ¡£ï¼Œç„¶åæ¢å¤åˆ°å­˜æ¡£çš„çŠ¶æ€ã€‚</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-19T12:00:00.000Z" title="2019-06-19T12:00:00.000Z">2019-06-19</time><span class="level-item"> NanYin </span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></span><span class="level-item">4 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 601 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/19/2019-06-19-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼</a></h1><div class="content"><h1 id="è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹çŠ¶æ€æ¨¡å¼</h1><p>çŠ¶æ€æ¨¡å¼æ˜¯å¯¹è±¡çš„è¡Œä¸ºæ¨¡å¼ã€‚çŠ¶æ€æ¨¡å¼å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜çš„æ—¶å€™æ”¹å˜å…¶è¡Œä¸ºã€‚è¿™ä¸ªå¯¹è±¡çœ‹ä¸Šå»å°±åƒæ˜¯æ”¹å˜äº†å®ƒçš„ç±»ä¸€æ ·ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ul>
<li>å¯¹è±¡çš„è¡Œä¸ºå–å†³äºå…¶çŠ¶æ€ï¼Œå¹¶ä¸”å¿…é¡»æ ¹æ®è¯¥çŠ¶æ€åœ¨è¿è¡Œæ—¶æ›´æ”¹å…¶è¡Œä¸ºã€‚</li>
<li>é€šå¸¸ï¼Œå‡ ä¸ªæ“ä½œå°†åŒ…å«ç›¸åŒçš„æ¡ä»¶ç»“æ„ã€‚Stateæ¨¡å¼å°†æ¡ä»¶çš„æ¯ä¸ªåˆ†æ”¯æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„ç±»ä¸­ã€‚å¯ä»¥å°†å¯¹è±¡çš„çŠ¶æ€è§†ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå¯ä»¥ç‹¬ç«‹äºå…¶ä»–å¯¹è±¡è€Œå˜åŒ–</li>
</ul>
<p>æ¦‚æ‹¬æ¥è¯´ï¼ŒçŠ¶æ€æ¨¡å¼å°†è¡Œä¸ºåŒ…è£…åˆ°å…·ä½“çš„çŠ¶æ€å¯¹è±¡ä¸­ã€‚æ¯ä¸ªçŠ¶æ€å¯¹è±¡æ˜¯æŠ½è±¡çŠ¶æ€çš„å­ç±»ã€‚çŠ¶æ€æ¨¡å¼æ„å›¾æ˜¯åœ¨æ”¹å˜å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€çš„æ—¶å€™ï¼Œè¡Œä¸ºéšä¹‹æ”¹å˜ã€‚</p>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p>çŠ¶æ€æ¨¡å¼åˆ†ä¸ºä¸‰ç§ç»“æ„ï¼šç¯å¢ƒè§’è‰²ã€æŠ½è±¡çŠ¶æ€è§’è‰²ã€å…·ä½“çŠ¶æ€è§’è‰²</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190618203143.png" alt="çŠ¶æ€æ¨¡å¼ç»“æ„å›¾"></p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>ç”µç¯æœ‰ä¸¤ç§åŸºæœ¬è¡Œä¸º å¼€å¯ã€å…³é—­ã€‚ä½†æ˜¯æœ‰ä¸¤ä¸ªçŠ¶æ€ï¼Œæ­£å¸¸å’Œåæ‰çš„çŠ¶æ€ã€‚å°†å…±åŒçš„è¡Œä¸ºå°è£…åˆ°ç»Ÿä¸€çš„çŠ¶æ€æ¥å£ä¸­ï¼Œå†æ ¹æ®ä¸åŒçš„çŠ¶æ€ï¼Œåˆ›å»ºå­ç±»å®Œæˆä¸åŒçŠ¶æ€å½¢æˆä¸åŒçš„è¡Œä¸ºã€‚</p>
<p>ç¯å†æ­£å¸¸çŠ¶æ€ä¸‹èƒ½å¤Ÿæ­£å¸¸å¼€å¯ï¼Œæ­£å¸¸å…³é—­ã€‚ç­‰åœ¨åæ‰çš„çŠ¶æ€ä¸‹ï¼Œä¸èƒ½å¼€å¯å’Œå…³é—­ã€‚çŠ¶æ€æ¨¡å¼å°±æ˜¯æ ¹æ®è¿™ä¸ªé€»è¾‘æŠ½ç¦»è¡Œä¸ºï¼Œå°†å…·ä½“è¡Œä¸ºåŒ…è£…åˆ°å…·ä½“çŠ¶æ€å¯¹è±¡ä¸­ã€‚</p>
<h3 id="æŠ½è±¡çŠ¶æ€è§’è‰²"><a href="#æŠ½è±¡çŠ¶æ€è§’è‰²" class="headerlink" title="æŠ½è±¡çŠ¶æ€è§’è‰²"></a>æŠ½è±¡çŠ¶æ€è§’è‰²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">open</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">close</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…·ä½“çŠ¶æ€è§’è‰²"><a href="#å…·ä½“çŠ¶æ€è§’è‰²" class="headerlink" title="å…·ä½“çŠ¶æ€è§’è‰²"></a>å…·ä½“çŠ¶æ€è§’è‰²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NormalState</span> <span class="keyword">implements</span> <span class="title">State</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">open</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ç”µç¯å¼€äº†ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ç”µç¯å…³äº†ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErrorState</span> <span class="keyword">implements</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">open</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ç”µç¯å¼€ä¸äº†ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ç”µç¯å…³ä¸äº†ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç¯å¢ƒè§’è‰²"><a href="#ç¯å¢ƒè§’è‰²" class="headerlink" title="ç¯å¢ƒè§’è‰²"></a>ç¯å¢ƒè§’è‰²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Context</span> </span>&#123;</span><br><span class="line">    <span class="comment">//çŠ¶æ€å‚æ•°</span></span><br><span class="line">    State state;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Context</span><span class="params">(State state)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">requestToOpen</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        state.open();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">requestToClose</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        state.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//çŠ¶æ€å˜åŒ–</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">changeStageTo</span><span class="params">(State state)</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.state = state;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®¢æˆ·ç«¯æµ‹è¯•"><a href="#å®¢æˆ·ç«¯æµ‹è¯•" class="headerlink" title="å®¢æˆ·ç«¯æµ‹è¯•"></a>å®¢æˆ·ç«¯æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Context context = <span class="keyword">new</span> Context(<span class="keyword">new</span> NormalState());</span><br><span class="line">        context.requestToOpen();</span><br><span class="line">        context.requestToClose();</span><br><span class="line">        <span class="comment">//å°†çŠ¶æ€å˜æ›´ä¸ºåçš„çŠ¶æ€</span></span><br><span class="line">        context.changeStageTo(<span class="keyword">new</span> ErrorState());</span><br><span class="line">        context.requestToOpen();</span><br><span class="line">        context.requestToClose();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-19T12:00:00.000Z" title="2019-06-19T12:00:00.000Z">2019-06-19</time><span class="level-item"> NanYin </span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></span><span class="level-item">6 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 937 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/19/2019-06-24-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼</a></h1><div class="content"><h1 id="è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹è§‚å¯Ÿè€…æ¨¡å¼</h1><p>è§‚å¯Ÿè€…æ¨¡å¼æ˜¯å¯¹è±¡çš„è¡Œä¸ºæ¨¡å¼ï¼Œåˆå«â€œå‘å¸ƒ-è®¢é˜…æ¨¡å¼â€ã€‚ç”±åå­—å°±èƒ½å¤Ÿå¾—çŸ¥ï¼Œè§‚å¯Ÿè¿™æ¨¡å¼æ„é€ äº†ä¸€ä¸ªå‘å¸ƒè€…å’Œè®¢é˜…è€…ã€‚</p>
<p>è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰å¯¹è±¡ä¹‹é—´çš„ä¸€å¯¹å¤šä¾èµ–å…³ç³»ï¼Œä»¥ä¾¿å½“ä¸€ä¸ªå¯¹è±¡æ›´æ”¹çŠ¶æ€æ—¶ï¼Œå°†è‡ªåŠ¨é€šçŸ¥å’Œæ›´æ–°å…¶æ‰€æœ‰ä¾èµ–é¡¹ã€‚åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œä¸»åŠ¨å‘ç”Ÿæ”¹å˜çš„æ˜¯å‘å¸ƒè€…ç§°ä¸ºä¸»é¢˜ï¼Œè€Œè¢«åŠ¨æ”¶åˆ°å‘å¸ƒè€…ä¿¡æ¯çš„è®¢é˜…è€…ç§°ä¸ºè§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ /å‡å°‘å…·ä½“ä¸»é¢˜çš„è§‚å¯Ÿè€…ï¼Œå®ç°ä¸»é¢˜å’Œè§‚å¯Ÿè€…ä¹‹é—´çš„æ¾è€¦åˆã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ul>
<li><p>å½“è®¾è®¡ä¸­æœ‰ä¸¤ç§ä¸åŒæ–¹é¢çš„æŠ½è±¡ï¼Œå¹¶ä¸”æ˜¯æœ‰ä¾èµ–å…³ç³»çš„ï¼Œè¿™æ—¶å°†ä¸¤ä¸ªæŠ½è±¡åˆ†åˆ«å°è£…åˆ°å…·ä½“çš„ç±»ä¸­ï¼Œè¿™æ ·å°±èƒ½å¤Ÿç‹¬ç«‹çš„æ”¹å˜å’Œé‡ç”¨è¿™äº›å¯¹è±¡ã€‚åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ä¸¤ç§æŠ½è±¡æŒ‡çš„å°±æ˜¯æŠ½è±¡ä¸»é¢˜å’ŒæŠ½è±¡è§‚å¯Ÿè€…ã€‚</p>
</li>
<li><p>å½“ä¸€ä¸ªå¯¹è±¡éœ€è¦æ›´æ”¹æ—¶ï¼Œæ¶‰åŠåˆ°æ›´æ”¹å…¶ä»–ç±»å‹çš„å…¶ä»–å¯¹è±¡ï¼Œå¹¶ä¸”è¿™äº›å¯¹è±¡çš„æ•°é‡å¤šä¸”ä¸ç¡®å®šçš„æ—¶å€™ã€‚</p>
</li>
<li><p>å½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜æ—¶ï¼Œå…¶ä»–å¯¹è±¡èƒ½å¤Ÿå¾—åˆ°è¿™ä¸ªå¯¹è±¡å·²ç»æ”¹å˜çš„é€šçŸ¥ï¼Œè€Œä¸å¿…çŸ¥é“è¿™äº›å¯¹è±¡å…·ä½“æ˜¯ä»€ä¹ˆã€‚ä¹Ÿå°±æ˜¯è¯´è¦è¾¾åˆ°è¿™ä¸ªæ”¹å˜çš„å¯¹è±¡å’Œé€šçŸ¥çš„å¯¹è±¡çš„æ¾è€¦åˆã€‚</p>
<p>  <strong>æ‰€ä»¥ç»¼ä¸Š:</strong><br>  å½“å¸Œæœ›ä¸€ä¸ªå¯¹è±¡æ”¹å˜çš„åŒæ—¶ï¼Œå¤šä¸ªå¯¹è±¡èƒ½å¤Ÿå¾—åˆ°é€šçŸ¥ï¼Œä¸€å—è¿›è¡Œå˜æ›´æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼å¯¹ç³»ç»Ÿè®¾è®¡</p>
</li>
</ul>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190624203405.png" alt="è§‚å¯Ÿè€…æ¨¡å¼ç»“æ„å›¾"></p>
<p>ä¸Šå›¾ä¸­ï¼š</p>
<ol>
<li><code>Weather</code>ä¸º<strong>æŠ½è±¡ä¸»é¢˜ç±»</strong>ï¼Œèƒ½å¤Ÿå°†è§‚å¯Ÿè€…<code>Observer</code>æ„æˆä¸€ä¸ª<code>list</code>ç»“æ„,ä»è€Œèƒ½å¤Ÿè¾¾åˆ°<code>Weather</code>æ”¹å˜çš„æ—¶å€™å¯ä»¥å¾ªç¯è¡¨ä¸­çš„è§‚å¯Ÿè€…ï¼Œå‘é€é€šçŸ¥ã€‚å¹¶ä¸”ä½œä¸ºæŠ½è±¡ç±»å®ç°äº†æ·»åŠ ï¼Œç§»é™¤è§‚å¯Ÿè€…æ–¹æ³•ã€‚</li>
<li><code>BeijingWeather</code>ä¸º<strong>å…·ä½“ä¸»é¢˜ç±»</strong>ï¼Œå®ç°äº†<code>Weather</code>ç±»ã€‚</li>
<li><code>Observer</code>ä½œä¸º<strong>æŠ½è±¡è§‚å¯Ÿè€…ç±»</strong>ï¼Œä½œä¸ºæ‰€æœ‰è§‚å¯Ÿè€…çš„é€šç”¨æ¥å£ï¼Œå…¶ä¸­å®šä¹‰<code>update</code>æ–¹æ³•ä½œä¸ºæ›´æ–°çŠ¶æ€çš„æ¥å£ã€‚é€šè¿‡è¿™ä¸ªæ¥å£å’Œ<code>Weather</code>ç±»äº¤äº’æ¥è·å–çŠ¶æ€é€šçŸ¥ã€‚</li>
<li><code>WeatherObserverA</code>ä¸<code>WeatherObserverB</code>ä½œä¸º<strong>å…·ä½“è§‚å¯Ÿè€…ç±»</strong>ï¼Œå®ç°ç±»è§‚å¯Ÿè€…æ¥å£ã€‚ç»Ÿä¸€æ¥å—é€šçŸ¥å¹¶æ›´æ–°è‡ªèº«çŠ¶æ€ã€‚</li>
</ol>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><h4 id="ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡ä¸»é¢˜ç±»"><a href="#ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡ä¸»é¢˜ç±»" class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡ä¸»é¢˜ç±»"></a>ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡ä¸»é¢˜ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çŠ¶æ€æšä¸¾ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> WeatherState &#123;</span><br><span class="line">    SUNNY_DAY,</span><br><span class="line">    CLOUDY_DAY,</span><br><span class="line">    RAINY_DAY,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æŠ½è±¡ä¸»é¢˜ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Weather</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> WeatherState weatherState;</span><br><span class="line">    <span class="comment">// è§‚å¯Ÿè€…é›†åˆ</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Observer&gt; observerList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Weather <span class="title">addObserver</span><span class="params">(Observer observer)</span></span>&#123;</span><br><span class="line">        observerList.add(observer);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeObserver</span><span class="params">(Observer observer)</span></span>&#123;</span><br><span class="line">        observerList.remove(observer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šè¿‡ä¸»é¢˜æ›´æ”¹ä»è€Œåœ¨è¯¥ä¸»é¢˜ä¸Šæ³¨å†Œçš„è§‚å¯Ÿè€…èƒ½å¤ŸåŒæ—¶èƒ½åˆ°é€šçŸ¥</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">notifyObserver</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Observer o:observerList</span><br><span class="line">             ) &#123;</span><br><span class="line">            o.update(<span class="keyword">this</span>.weatherState);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬äºŒéƒ¨åˆ†ï¼šå…·ä½“ä¸»é¢˜ç±»"><a href="#ç¬¬äºŒéƒ¨åˆ†ï¼šå…·ä½“ä¸»é¢˜ç±»" class="headerlink" title="ç¬¬äºŒéƒ¨åˆ†ï¼šå…·ä½“ä¸»é¢˜ç±»"></a>ç¬¬äºŒéƒ¨åˆ†ï¼šå…·ä½“ä¸»é¢˜ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BeijingWeather</span> <span class="keyword">extends</span> <span class="title">Weather</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    BeijingWeather(WeatherState weatherState) &#123;</span><br><span class="line">        <span class="keyword">this</span>.weatherState = weatherState;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä½œä¸ºæ›´æ–°ä¸»é¢˜çš„æ¥å£</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">changeState</span><span class="params">(WeatherState we)</span></span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.weatherState = we;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬ä¸‰éƒ¨åˆ†ï¼šæŠ½è±¡è§‚å¯Ÿè€…"><a href="#ç¬¬ä¸‰éƒ¨åˆ†ï¼šæŠ½è±¡è§‚å¯Ÿè€…" class="headerlink" title="ç¬¬ä¸‰éƒ¨åˆ†ï¼šæŠ½è±¡è§‚å¯Ÿè€…"></a>ç¬¬ä¸‰éƒ¨åˆ†ï¼šæŠ½è±¡è§‚å¯Ÿè€…</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°æ¥å£</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(WeatherState weatherState)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç¬¬å››éƒ¨åˆ†ï¼š-å…·ä½“è§‚å¯Ÿè€…"><a href="#ç¬¬å››éƒ¨åˆ†ï¼š-å…·ä½“è§‚å¯Ÿè€…" class="headerlink" title="ç¬¬å››éƒ¨åˆ†ï¼š å…·ä½“è§‚å¯Ÿè€…"></a>ç¬¬å››éƒ¨åˆ†ï¼š å…·ä½“è§‚å¯Ÿè€…</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WeatherObserverA</span> <span class="keyword">implements</span> <span class="title">Observer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(WeatherState weatherState)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"observer A get new weather message is "</span> + weatherState.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æœ€åè°ƒç”¨"><a href="#æœ€åè°ƒç”¨" class="headerlink" title="æœ€åè°ƒç”¨"></a>æœ€åè°ƒç”¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å®šä¹‰ä¸»é¢˜</span></span><br><span class="line">        Weather weather = <span class="keyword">new</span> BeijingWeather(WeatherState.SUNNY_DAY);</span><br><span class="line">        <span class="comment">//æ·»åŠ è§‚å¯Ÿè€…</span></span><br><span class="line">        weather.addObserver(<span class="keyword">new</span> WeatherObserverA()).addObserver(<span class="keyword">new</span> WeatherObserverB());</span><br><span class="line">        <span class="comment">//é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…</span></span><br><span class="line">        weather.notifyObserver();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼šæœ€åæ³¨å†Œåœ¨ä¸»é¢˜ä¸Šçš„æ‰€æœ‰è§‚å¯Ÿè€…éƒ½æ”¶åˆ°äº†é€šçŸ¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">observer A get new weather message is SUNNY_DAY</span><br><span class="line">observer B get new weather message is SUNNY_DAY</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-17T12:00:00.000Z" title="2019-06-17T12:00:00.000Z">2019-06-17</time><span class="level-item"> NanYin </span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></span><span class="level-item">6 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 865 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/17/2019-06-17-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E6%A8%A1%E7%89%88%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ¨¡å¼</a></h1><div class="content"><h1 id="è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼</h1><p>æ¨¡ç‰ˆæ¨¡å¼æ˜¯ç±»çš„è¡Œä¸ºæ¨¡å¼ï¼Œå°†éƒ¨åˆ†é€»è¾‘ä»¥å…·ä½“æ–¹æ³•æ¥å®ç°ï¼Œå°†å…¶ä»–æ–¹æ³•å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•æ¥è®©å­ç±»æ¥å®ç°ã€‚ä¸åŒçš„å­ç±»å®ç°çš„æ–¹æ³•é€»è¾‘ä¸åŒï¼Œä»è€Œæ•´ä½“çš„é€»è¾‘æœ‰æ‰€å·®å¼‚ã€‚</p>
<p>è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªè§’è‰²ï¼š</p>
<p>ä¸€ã€æŠ½è±¡æ¨¡æ¿(Abstract Template)è§’è‰²æœ‰å¦‚ä¸‹è´£ä»»ï¼š</p>
<pre><code>- å®šä¹‰äº†ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ“ä½œï¼Œä»¥ä¾¿è®©å­ç±»å®ç°ã€‚è¿™äº›æŠ½è±¡æ“ä½œå«åšåŸºæœ¬æ“ä½œï¼Œ
å®ƒä»¬æ˜¯ä¸€ä¸ªé¡¶çº§é€»è¾‘çš„ç»„æˆæ­¥éª¤ã€‚

- å®šä¹‰å¹¶å®ç°äº†ä¸€ä¸ªæ¨¡æ¿æ–¹æ³•ã€‚è¿™ä¸ªæ¨¡æ¿æ–¹æ³•ä¸€èˆ¬æ˜¯ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼Œå®ƒç»™å‡ºäº†ä¸€ä¸ªé¡¶çº§é€»è¾‘çš„éª¨æ¶ï¼Œ
è€Œé€»è¾‘çš„ç»„æˆæ­¥éª¤åœ¨ç›¸åº”çš„æŠ½è±¡æ“ä½œä¸­ï¼Œæ¨è¿Ÿåˆ°å­ç±»å®ç°ã€‚é¡¶çº§é€»è¾‘ä¹Ÿæœ‰å¯èƒ½è°ƒç”¨ä¸€äº›å…·ä½“æ–¹æ³•ã€‚</code></pre><p>äºŒã€å…·ä½“æ¨¡æ¿(Concrete Template)è§’è‰²åˆå¦‚ä¸‹è´£ä»»ï¼š</p>
<pre><code>- å®ç°çˆ¶ç±»æ‰€å®šä¹‰çš„ä¸€ä¸ªæˆ–å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå®ƒä»¬æ˜¯ä¸€ä¸ªé¡¶çº§é€»è¾‘çš„ç»„æˆæ­¥éª¤ã€‚

- æ¯ä¸€ä¸ªæŠ½è±¡æ¨¡æ¿è§’è‰²éƒ½å¯ä»¥æœ‰ä»»æ„å¤šä¸ªå…·ä½“æ¨¡æ¿è§’è‰²ä¸ä¹‹å¯¹åº”ï¼Œ
è€Œæ¯ä¸€ä¸ªå…·ä½“æ¨¡æ¿è§’è‰²éƒ½å¯ä»¥ç»™å‡ºè¿™äº›æŠ½è±¡æ–¹æ³•ï¼ˆä¹Ÿå°±æ˜¯é¡¶çº§é€»è¾‘çš„ç»„æˆæ­¥éª¤ï¼‰çš„ä¸åŒå®ç°ï¼Œ
ä»è€Œä½¿å¾—é¡¶çº§é€»è¾‘çš„å®ç°å„ä¸ç›¸åŒã€‚</code></pre><h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p> å®ç°ä¸å˜çš„éƒ¨åˆ†ä¸€æ¬¡ï¼Œå¹¶å°†å…¶ä»–ç•™ç»™å­ç±»æ¥å®ç°å¯èƒ½éœ€è¦å˜åŒ–çš„è¡Œä¸ºã€‚</p>
<ul>
<li>éœ€è¦ç®€åŒ–ä»£ç ï¼Œåˆ†ç¦»å‡ºå…¬å…±çš„éƒ¨åˆ†ï¼ŒæŠ½ç¦»å‡ºä¸€ä¸ªå…¬å…±çš„æ¨¡æ¿æ–¹æ³•æ¥æ›¿æ¢æ‰€æœ‰çš„ä»£ç ã€‚</li>
<li>æ§åˆ¶å­ç±»æ‰©å±•ã€‚å®šä¹‰åœ¨ç‰¹å®šç‚¹è°ƒç”¨â€œé’©å­â€æ“ä½œçš„æ¨¡æ¿æ–¹æ³•ï¼Œä»è€Œä»…å…è®¸åœ¨é‚£äº›ç‚¹è¿›è¡Œæ‰©å±•ã€‚</li>
</ul>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p>è¿™é‡Œä½¿ç”¨åˆ°æ¨¡æ‹Ÿservletä¸­çš„httpServletæ–¹æ³•ï¼ˆç®€å•çš„æ¨¡æ‹Ÿæ–¹æ³•ä¸­ç”¨åˆ°çš„æ¨¡ç‰ˆæ–¹æ³•ï¼‰ã€‚å®šä¹‰ä¸€ä¸ªå…¬å…±çš„æ¨¡ç‰ˆæ–¹æ³•æŠ½è±¡ç±»<code>HttpServletTemplate</code>ï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªé’©å­æ–¹æ³•<code>doGet</code>å’Œ<code>doPost</code>ï¼Œæ‰€è°“çš„é’©å­æ–¹æ³•å°±æ˜¯éœ€è¦ç”±å­ç±»å®ç°çš„æ–¹æ³•ã€‚è¿˜æœ‰ä¸€ä¸ªå…·ä½“æ–¹æ³•<code>service</code>æ¥å®ç°æ¨¡ç‰ˆè°ƒç”¨çš„ä½œç”¨ã€‚</p>
<p>æ¨¡æ‹Ÿä¸¤ä¸ªå­ç±»å®ç°<code>HttpServletTemplate</code>å®ç°ä¸¤ä¸ªé’©å­æ–¹æ³•ã€‚</p>
<p>å®¢æˆ·ç«¯<code>App</code>åœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œç›´æ¥è°ƒç”¨ä¸¤ä¸ªå­ç±»çš„çˆ¶ç±»ä¸­çš„å®ç°æ–¹æ³•<code>service</code>å®ç°è°ƒç”¨æ¨¡ç‰ˆã€‚</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190617221808.png" alt="æ¨¡ç‰ˆæ¨¡å¼ç»“æ„"></p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><h3 id="æŠ½è±¡æ¨¡ç‰ˆç±»"><a href="#æŠ½è±¡æ¨¡ç‰ˆç±»" class="headerlink" title="æŠ½è±¡æ¨¡ç‰ˆç±»"></a>æŠ½è±¡æ¨¡ç‰ˆç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpServletTemplate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(HttpRequestMethod method)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(method.equals(HttpRequestMethod.METHOD_GET))&#123;</span><br><span class="line">            System.out.println(<span class="string">"so something 1"</span>);</span><br><span class="line">            doGet();</span><br><span class="line">            System.out.println(<span class="string">"so something 2"</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(method.equals(HttpRequestMethod.METHOD_POST))&#123;</span><br><span class="line">            doPost();</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"do nothing!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">()</span></span>&#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å…·ä½“æ¨¡ç‰ˆç±»"><a href="#å…·ä½“æ¨¡ç‰ˆç±»" class="headerlink" title="å…·ä½“æ¨¡ç‰ˆç±»"></a>å…·ä½“æ¨¡ç‰ˆç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetClient</span> <span class="keyword">extends</span> <span class="title">HttpServletTemplate</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"this is my get methods!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PostClient</span> <span class="keyword">extends</span> <span class="title">HttpServletTemplate</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.doPost();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"this is my post methods!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¯·æ±‚ç±»å‹æšä¸¾ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> HttpRequestMethod &#123;</span><br><span class="line">    METHOD_GET,METHOD_POST,METHOD_DELETE</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å®¢æˆ·ç«¯è°ƒç”¨"><a href="#å®¢æˆ·ç«¯è°ƒç”¨" class="headerlink" title="å®¢æˆ·ç«¯è°ƒç”¨"></a>å®¢æˆ·ç«¯è°ƒç”¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å£°æ˜postå®¢æˆ·ç«¯</span></span><br><span class="line">        PostClient post = <span class="keyword">new</span> PostClient();</span><br><span class="line">        <span class="comment">//è°ƒç”¨æ¨¡ç‰ˆ</span></span><br><span class="line">        post.service(HttpRequestMethod.METHOD_POST);</span><br><span class="line">        GetClient get = <span class="keyword">new</span> GetClient();</span><br><span class="line">        get.service(HttpRequestMethod.METHOD_GET);</span><br><span class="line">        get.service(HttpRequestMethod.METHOD_POST);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼æ˜¯åˆ›å»ºä¸€ä¸ªç®—æ³•çš„éª¨æ¶ï¼Œå…·ä½“çš„å†…å®¹ç”±å­ç±»å»å¡«å……çš„è¿™ä¸ªè¿‡ç¨‹ã€‚</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-15T12:00:00.000Z" title="2019-06-15T12:00:00.000Z">2019-06-15</time><span class="level-item"> NanYin </span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></span><span class="level-item">8 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1125 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/15/2019-06-15-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼</a></h1><div class="content"><h1 id="è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹è®¿é—®è€…æ¨¡å¼</h1><p>è®¿é—®è€…æ¨¡å¼æ˜¯ä¸€ç§å¤æ‚çš„è¡Œä¸ºæ¨¡å¼ã€‚è¡¨ç¤ºè¦å¯¹å¯¹è±¡ç»“æ„çš„å…ƒç´ æ‰§è¡Œçš„æ“ä½œã€‚è®¿é—®è€…å…è®¸å¯¹å¯¹è±¡ç»“æ„ä¸­çš„èŠ‚ç‚¹å®šä¹‰æ–°æ“ä½œï¼Œè€Œæ— éœ€æ›´æ”¹å…¶æ“ä½œçš„å…ƒç´ çš„ç±»ã€‚</p>
<p>é€‚ç”¨äºæ•°æ®ç»“æ„ç›¸å¯¹æœªå®šçš„ç³»ç»Ÿï¼Œå®ƒæŠŠæ•°æ®ç»“æ„å’Œä½œç”¨äºç»“æ„ä¸Šçš„æ“ä½œä¹‹é—´çš„è€¦åˆè§£è„±å¼€ï¼Œä½¿å¾—æ“ä½œé›†åˆå¯ä»¥ç›¸å¯¹è‡ªç”±åœ°æ¼”åŒ–ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p>å½“é‡åˆ°å¦‚ä¸‹æƒ…å†µæ—¶ï¼Œå¯ä»¥ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨è®¿é—®è€…æ¨¡å¼ï¼š</p>
<ol>
<li>å¯¹è±¡ç»“æ„ä¸­åŒ…å«è®¸å¤šå…·æœ‰ä¸åŒæ¥å£çš„å¯¹è±¡ç±»ï¼Œå¹¶ä¸”å¸Œæœ›å¯¹ä¾èµ–äºå…¶å…·ä½“ç±»çš„è¿™äº›å¯¹è±¡æ‰§è¡Œæ“ä½œã€‚</li>
<li>éœ€è¦å¯¹å¯¹è±¡ç»“æ„ä¸­çš„å¯¹è±¡æ‰§è¡Œè®¸å¤šä¸åŒä¸”ä¸ç›¸å…³çš„æ“ä½œï¼Œå¹¶ä¸”å¸Œæœ›é¿å…ä½¿ç”¨è¿™äº›æ“ä½œâ€œæ±¡æŸ“â€å®ƒä»¬çš„ç±»ã€‚è¿™æ—¶å°±å¯ä»¥å®šä¹‰å¤šä¸ªvisitorç±»æ¥å®Œæˆå¯¹å¤šä¸ªå¯¹è±¡èŠ‚ç‚¹çš„å¤„ç†ã€‚</li>
<li>å®šä¹‰å¯¹è±¡ç»“æ„çš„ç±»å¾ˆå°‘æ”¹å˜ï¼Œä½†æ˜¯ä½ ç»å¸¸æƒ³è¦åœ¨ç»“æ„ä¸Šå®šä¹‰æ–°çš„æ“ä½œã€‚</li>
</ol>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p><strong>ä¸¾ä¸ªä¾‹å­</strong>ï¼šåœ¨å…¬å¸ä¸­ï¼Œéœ€è¦ç»Ÿè®¡æ‰“å¡è®°å½•å’Œç»©æ•ˆï¼Œåˆ†åˆ«æœ‰è¡Œæ”¿éƒ¨é—¨å’Œè´¢åŠ¡éƒ¨é—¨æ¥å®ç°ã€‚å¹¶ä¸”å°†æ¥å¯èƒ½æœ‰è´¨é‡éƒ¨é—¨ç›‘æµ‹ç ”å‘å’Œå®æ–½äººå‘˜çš„å·¥ä½œè´¨é‡ã€‚ä½†æ˜¯å¯¹ç ”å‘å’Œå®æ–½äººå‘˜çš„è€ƒæ ¸æ ‡å‡†æœ‰æ‰€ä¸åŒã€‚</p>
<h3 id="ä¸€ã€ç±»å›¾"><a href="#ä¸€ã€ç±»å›¾" class="headerlink" title="ä¸€ã€ç±»å›¾"></a>ä¸€ã€ç±»å›¾</h3><p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190616105829.png" alt="ç±»å›¾"></p>
<p><code>OperateStructure</code>ä½œä¸ºå¯¹è±¡<code>OperateNode</code>çš„æ•°æ®ç»“æ„,å¹¶ä¸”å®ç°ç±»<code>OperateNodeA</code>å’Œ<code>OperateNodeB</code>è¡Œä¸ºæ–¹æ³•æœ‰å„è‡ªçš„å®ç°ã€‚å¹¶ä¸”æƒ³åŸºäºè¿™ä¸ªç›¸å¯¹å›ºå®šçš„æ•°æ®ç»“æ„å®ç°å¤šç§ä¸åŒçš„æ“ä½œ<code>ï¼ˆvisitorï¼‰</code>ã€‚è¿™æ ·åœ¨å¢åŠ <code>visitor</code>çš„æ—¶å€™ä¸å¿…è€ƒè™‘æ•°æ®ç»“æ„ä¼šå‘ç”Ÿå˜æ›´ã€‚</p>
<h3 id="äºŒã€æ—¶åº"><a href="#äºŒã€æ—¶åº" class="headerlink" title="äºŒã€æ—¶åº"></a>äºŒã€æ—¶åº</h3><p>ç”±äºè°ƒç”¨è¿‡ç¨‹æ¯”è¾ƒä¸å®¹æ˜“çœ‹é€ï¼Œè¿™é‡Œæˆ‘å…ˆä½¿ç”¨æ—¶åºå›¾æ¥è¯´æ˜è°ƒç”¨é¡ºåº</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190616112121.png" alt="è°ƒç”¨è¿‡ç¨‹æ—¶åº"></p>
<h2 id="ä»£ç å®ä¾‹"><a href="#ä»£ç å®ä¾‹" class="headerlink" title="ä»£ç å®ä¾‹"></a>ä»£ç å®ä¾‹</h2><p>æ ¹æ®ç±»å›¾å¯ä»¥çœ‹å‡ºï¼Œè®¿é—®è€…æ¨¡å¼åˆ†ä¸ºäº”éƒ¨åˆ†ï¼šæŠ½è±¡èŠ‚ç‚¹è§’è‰² ã€å…·ä½“èŠ‚ç‚¹è§’è‰² ã€æŠ½è±¡è®¿é—®è€…è§’è‰² ã€å…·ä½“è®¿é—®è€…è§’è‰² ã€ç»“æ„å¯¹è±¡è§’è‰²</p>
<ul>
<li>æŠ½è±¡èŠ‚ç‚¹è§’è‰²ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">OperateNode</span> </span>&#123;</span><br><span class="line"><span class="comment">//  å®šä¹‰èŠ‚ç‚¹å†…éƒ½éœ€è¦å®ç°çš„æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor visitor)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å…·ä½“èŠ‚ç‚¹è§’è‰²ï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…·ä½“èŠ‚ç‚¹A åœ¨å®ä¾‹ä¸­å¯¹åº”ç ”å‘äººå‘˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OperateNodeA</span> <span class="keyword">extends</span> <span class="title">OperateNode</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ç»©æ•ˆç³»æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">double</span> COEFFICIENT = <span class="number">1.2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> workDate;</span><br><span class="line"></span><br><span class="line">    OperateNodeA(<span class="keyword">int</span> workDate) &#123;</span><br><span class="line">        <span class="keyword">this</span>.workDate = workDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor visitor)</span> </span>&#123;</span><br><span class="line">        visitor.visit(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">attendance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> workDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">performance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> workDate * COEFFICIENT;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å…·ä½“èŠ‚ç‚¹Bï¼Œåœ¨å®ä¾‹ä¸­å¯¹åº”è¿ç»´äººå‘˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OperateNodeB</span> <span class="keyword">extends</span> <span class="title">OperateNode</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> COEFFICIENT = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> workDate;</span><br><span class="line"></span><br><span class="line">    OperateNodeB(<span class="keyword">int</span> workDate) &#123;</span><br><span class="line">        <span class="keyword">this</span>.workDate = workDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">accept</span><span class="params">(Visitor visitor)</span> </span>&#123;</span><br><span class="line">        visitor.visit(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">attendance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> workDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">performance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> workDate * COEFFICIENT;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æŠ½è±¡è®¿é—®è€…è§’è‰²</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é’ˆå¯¹ç»“æ„ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹åˆ†åˆ«è¿›è¡Œå„è‡ªçš„æ“ä½œ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Visitor</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeA operateNodeA)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeB operateNodeB)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å…·ä½“è®¿é—®è€…è§’è‰²</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¡Œæ”¿äººå‘˜ç»“ç®—è€ƒå‹¤</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VisitorA</span> <span class="keyword">implements</span> <span class="title">Visitor</span> </span>&#123;</span><br><span class="line">    <span class="comment">// éœ€è¦å¯¹å®æ–½äººå‘˜å¢åŠ è·¯ä¸Šçš„è€ƒå‹¤æ—¶é—´ æ¨¡å¼ä¸º2</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> BASIC = <span class="number">2</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeA operateNodeA)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> att = operateNodeA.attendance();</span><br><span class="line">        System.out.println(<span class="string">"æœ¬æœˆè¯¥ç ”å‘äººå‘˜è€ƒå‹¤ä¸º"</span>+att + <span class="string">"å¤©"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeB operateNodeB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> att =operateNodeB.attendance() + BASIC;</span><br><span class="line">        System.out.println(<span class="string">"æœ¬æœˆè¯¥å®æ–½äººå‘˜è€ƒå‹¤ä¸º"</span>+att + <span class="string">"å¤©"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è´¢åŠ¡äººå‘˜ç»“ç®—ç»©æ•ˆ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VisitorB</span> <span class="keyword">implements</span> <span class="title">Visitor</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç ”å‘éœ€è¦æ·»åŠ é¢å¤–ç»©æ•ˆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> EXTRA = <span class="number">2</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeA operateNodeA)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> att = operateNodeA.performance() + EXTRA;</span><br><span class="line">        System.out.println(<span class="string">"æœ¬æœˆè¯¥ç ”å‘äººå‘˜ç»©æ•ˆä¸º :"</span>+att );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(OperateNodeB operateNodeB)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">double</span> att =operateNodeB.performance() ;</span><br><span class="line">        System.out.println(<span class="string">"æœ¬æœˆè¯¥ç ”å‘äººå‘˜ç»©æ•ˆä¸º :"</span>+att );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç»“æ„å¯¹è±¡ç»“æ„</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperateStructure</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰ç»“æ„ä½“</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;OperateNode&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(OperateNode operateNode)</span></span>&#123;</span><br><span class="line">        list.add(operateNode);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¯¹ç»“æ„ä½“ä¸­çš„å¯¹è±¡å®ç°æ¥æ”¶è®¿é—®æ“ä½œ</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">action</span><span class="params">(Visitor visitor)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (OperateNode operateNode : list)&#123;</span><br><span class="line">        <span class="comment">// ç›®çš„å°±æ˜¯ä½¿ç”¨åŒé‡åˆ†æ´¾è°ƒç”¨æ¥å®ç°</span></span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹æ¥å—è®¿é—®è€…ä¸è®¿é—®è€…è®¿é—®èŠ‚ç‚¹çš„æ“ä½œ</span></span><br><span class="line">            operateNode.accept(visitor);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å®¢æˆ·ç«¯è°ƒç”¨</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Visitor visitorA = <span class="keyword">new</span> VisitorA();</span><br><span class="line">        Visitor visitorB = <span class="keyword">new</span> VisitorB();</span><br><span class="line">        OperateStructure structure = <span class="keyword">new</span> OperateStructure();</span><br><span class="line">        structure.add(<span class="keyword">new</span> OperateNodeA(<span class="number">22</span>));</span><br><span class="line">        structure.add(<span class="keyword">new</span> OperateNodeB(<span class="number">22</span>));</span><br><span class="line">        structure.action(visitorA);</span><br><span class="line">        structure.action(visitorB);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç»“æœ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æœ¬æœˆè¯¥ç ”å‘äººå‘˜è€ƒå‹¤ä¸º22å¤©</span><br><span class="line">æœ¬æœˆè¯¥å®æ–½äººå‘˜è€ƒå‹¤ä¸º24å¤©</span><br><span class="line">æœ¬æœˆè¯¥ç ”å‘äººå‘˜ç»©æ•ˆä¸º :28.4</span><br><span class="line">æœ¬æœˆè¯¥ç ”å‘äººå‘˜ç»©æ•ˆä¸º :22.0</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-14T12:00:00.000Z" title="2019-06-14T12:00:00.000Z">2019-06-14</time><span class="level-item"> NanYin </span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></span><span class="level-item">4 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 612 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/14/2019-06-14-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼</a></h1><div class="content"><h1 id="è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹ä»£ç†æ¨¡å¼</h1><p>ä»£ç†æ¨¡å¼æ˜¯å¯¹è±¡çš„ç»“æ„æ¨¡å¼ã€‚ä»£ç†æ¨¡å¼ç»™æŸä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå¹¶ç”±ä»£ç†å¯¹è±¡æ§åˆ¶å¯¹åŸå¯¹è±¡çš„å¼•ç”¨ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ol>
<li>è¿œç¨‹ä»£ç†ä¸åŒåœ°å€ç©ºé—´çš„å¯¹è±¡ï¼Œéƒ½å½“ä½œæœ¬åœ°åŒ–å¯¹è±¡æ¥å¤„ç†</li>
<li>æ§åˆ¶å¯¹è±¡çš„è®¿é—®æƒé™ã€‚</li>
</ol>
<p>å½“é‡åˆ°ä¸€ä¸‹æƒ…å†µæ˜¯å¯ä»¥ä½¿ç”¨ä»£ç†æ¨¡å¼ï¼š</p>
<ul>
<li>æƒ³æ§åˆ¶å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„è®¿é—®</li>
<li>æ‡’åŠ è½½</li>
<li>æ§åˆ¶æ—¥å¿—è¾“å‡º</li>
<li>è®¡ç®—å¯¹è±¡å¼•ç”¨</li>
<li>æ§åˆ¶ç½‘ç»œé“¾æ¥é—®é¢˜</li>
</ul>
<h2 id="ä»£ç†æ¨¡å¼æ¨¡å¼ç»“æ„"><a href="#ä»£ç†æ¨¡å¼æ¨¡å¼ç»“æ„" class="headerlink" title="ä»£ç†æ¨¡å¼æ¨¡å¼ç»“æ„"></a>ä»£ç†æ¨¡å¼æ¨¡å¼ç»“æ„</h2><p>æµ´å®¤åˆ†ä¸ºç”·æµ´å®¤å’Œå¥³æµ´å®¤ï¼Œå…¶ä¸­å‰å°åˆ¤æ–­èƒ½å¤Ÿè¿›å…¥æµ´å®¤çš„å‰ææ˜¯æ²¡æœ‰çš®è‚¤ç—…ï¼Œå¦‚æœ‰æ²¡æœ‰ï¼Œæ‰è®©è¿›å…¥æµ´å®¤ã€‚è¿™é‡Œçš„å‰å°å°±æ˜¯ä¸€ä¸ªä»£ç†ï¼Œå®ƒä»£ç†æ¥æµ´å®¤ï¼Œç”¨æ¥åˆ¤æ–­èƒ½å¦è¿›å…¥æµ´å®¤çš„æƒé™ã€‚è¿™å°±æ˜¯ä»£ç†çš„ä½œç”¨ã€‚</p>
<p>ä»£ç†æ¨¡å¼å’Œè£…é¥°è€…æ¨¡å¼æ¯”è¾ƒå®¹æ˜“æ··æ·†ã€‚éœ€è¦è®°ä½çš„æ˜¯ï¼Œä¸¤è€…çš„åŠŸèƒ½åŒºåˆ«åœ¨äºï¼Œä»£ç†æ¨¡å¼æ”¹å˜çš„æ˜¯å¯¹è±¡çš„èŒèƒ½ï¼Œæ§åˆ¶å¯¹è±¡çš„è¡Œä¸ºã€‚è€Œè£…é¥°è€…æ¨¡å¼æ˜¯å¯¹èŒèƒ½çš„å¢åŠ å’Œå‡å°‘ã€‚ä½¿ç”¨åœºæ™¯ä¸Šæœ‰æ‰€ä¸åŒã€‚</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190614132147.png" alt="ä»£ç†æ¨¡å¼ç»“æ„å›¾"></p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>ä»£ç†æ¨¡å¼å¤§è‡´èƒ½å¤Ÿåˆ†ä¸ºä¸‰éƒ¨åˆ†ï¼šæŠ½è±¡èŒèƒ½ç±»ï¼Œä»£ç†ç±»ï¼Œè¢«ä»£ç†ç±»</p>
<p>ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡èŒèƒ½ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Person åŸºæœ¬ä¿¡æ¯ç±» å’Œæ€§åˆ«æšä¸¾ </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name ;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> SexEnum sex;</span><br><span class="line">    <span class="comment">//æ˜¯å¦æœ‰çš®è‚¤ç—…</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> hasSkinDisease;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, SexEnum sex, <span class="keyword">int</span> hasSkinDisease)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.sex = sex;</span><br><span class="line">        <span class="keyword">this</span>.hasSkinDisease = hasSkinDisease;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SexEnum <span class="title">getSex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getHasSkinDisease</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> hasSkinDisease;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> SexEnum &#123;</span><br><span class="line">    MALE,FEMALE</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŠ½è±¡èŒèƒ½</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">BathRoom</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å»æ¾¡å ‚æ³¡æ¾¡</span></span><br><span class="line">    <span class="function"><span class="keyword">abstract</span> BathRoom <span class="title">enterBathroom</span><span class="params">(Person person)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒéƒ¨åˆ†ï¼šè¢«ä»£ç†ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MaleBathRoom</span> <span class="keyword">extends</span> <span class="title">BathRoom</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BathRoom <span class="title">enterBathroom</span><span class="params">(Person p)</span> </span>&#123;</span><br><span class="line">        String sexName = <span class="string">""</span>;</span><br><span class="line">        <span class="keyword">if</span>(SexEnum.MALE.equals(p.getSex()))&#123;</span><br><span class="line">            sexName = SexEnum.MALE.toString();</span><br><span class="line">            System.out.println(<span class="string">"name : "</span>+ p.getName() +<span class="string">" sex: "</span>+ sexName +<span class="string">" go bath for male !"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šä»£ç†ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BathRoomProxy</span> <span class="keyword">extends</span> <span class="title">BathRoom</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    BathRoom bathRoom;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">BathRoomProxy</span><span class="params">(BathRoom bathRoom)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.bathRoom = bathRoom;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BathRoom <span class="title">enterBathroom</span><span class="params">(Person person)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (person.getHasSkinDisease() == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">this</span>.bathRoom.enterBathroom(person);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(person.getName() + <span class="string">" has disease."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®¢æˆ·ç«¯è°ƒç”¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(<span class="string">"1"</span>,SexEnum.MALE,<span class="number">0</span>);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(<span class="string">"2"</span>,SexEnum.MALE,<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        BathRoomProxy bathRoomProxy = <span class="keyword">new</span> BathRoomProxy(<span class="keyword">new</span> MaleBathRoom());</span><br><span class="line">        bathRoomProxy.enterBathroom(p1).enterBathroom(p2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name : 1 sex: MALE go bath for male !</span><br><span class="line">2 has disease.</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-13T12:00:00.000Z" title="2019-06-13T12:00:00.000Z">2019-06-13</time><span class="level-item"> NanYin </span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></span><span class="level-item">6 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 835 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/13/2019-06-13-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼</a></h1><div class="content"><h1 id="è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹äº«å…ƒæ¨¡å¼</h1><p>äº«å…ƒæ¨¡å¼æ˜¯å¯¹è±¡çš„ç»“æ„æ¨¡å¼ã€‚äº«å…ƒæ¨¡å¼ä»¥å…±äº«çš„æ–¹å¼é«˜æ•ˆåœ°æ”¯æŒå¤§é‡çš„ç»†ç²’åº¦å¯¹è±¡ã€‚å®ƒç”¨äºé€šè¿‡å°½å¯èƒ½å¤šåœ°ä¸ç±»ä¼¼å¯¹è±¡å…±äº«æ¥æœ€å°åŒ–å†…å­˜ä½¿ç”¨æˆ–è®¡ç®—å¼€é”€ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ol>
<li>åº”ç”¨ä¸­éœ€è¦å¤§é‡çš„å¯¹è±¡ï¼Œå¤§é‡çš„å¯¹è±¡å¯èƒ½é€ æˆå­˜å‚¨å¯¹è±¡çš„å¼€é”€ã€‚</li>
<li>å¯¹è±¡å˜åŒ–çš„çŠ¶æ€å¤§å¤šæ˜¯å¤–éƒ¨çŠ¶æ€ã€‚ä¸€æ—¦å¤–éƒ¨çŠ¶æ€è¢«ç§»é™¤ï¼Œè®¸å¤šå¯¹è±¡ç»„å¯è¢«ç›¸å¯¹è¾ƒå°‘çš„å…±äº«å¯¹è±¡æ›¿æ¢ã€‚è¿™ä¹Ÿå°±æ˜¯äº«å…ƒæ¨¡å¼åˆ©ç”¨çš„ç‚¹ã€‚</li>
<li>å› ä¸ºåœ¨äº«å…ƒæ¨¡å¼ä¸­å¯¹è±¡æ˜¯å…±äº«çš„ï¼Œæ‰€ä»¥åœ¨å«ä¹‰ä¸Šçš„ä¸åŒå¯¹è±¡ä½¿ç”¨equelså®é™…è¿”å›çš„æ˜¯trueã€‚</li>
</ol>
<h2 id="äº«å…ƒæ¨¡å¼ç»“æ„"><a href="#äº«å…ƒæ¨¡å¼ç»“æ„" class="headerlink" title="äº«å…ƒæ¨¡å¼ç»“æ„"></a>äº«å…ƒæ¨¡å¼ç»“æ„</h2><p>äº«å…ƒæ¨¡å¼é‡‡ç”¨ä¸€ä¸ªå…±äº«æ¥é¿å…å¤§é‡æ‹¥æœ‰ç›¸åŒå†…å®¹å¯¹è±¡çš„å¼€é”€ã€‚è¿™ç§å¼€é”€æœ€å¸¸è§ã€æœ€ç›´è§‚çš„å°±æ˜¯å†…å­˜çš„æŸè€—ã€‚äº«å…ƒå¯¹è±¡èƒ½åšåˆ°å…±äº«çš„å…³é”®æ˜¯åŒºåˆ†å†…è•´çŠ¶æ€(Internal State)å’Œå¤–è•´çŠ¶æ€(External State)ã€‚</p>
<p>å†…è•´çŠ¶æ€å†³å®šå¯¹è±¡æœ¬èº«çš„çŠ¶æ€ï¼Œä¸ä¼šéšç€ç¯å¢ƒçš„å˜åŒ–è€Œå˜åŒ–ï¼Œè€Œå¤–è•°çŠ¶æ€æ˜¯ç”±å®¢æˆ·ç«¯å°†çŠ¶æ€ä¼ é€’ç»™äº«å…ƒå¯¹è±¡çš„ï¼Œå¤–è•´çŠ¶æ€ç±»ä¼¼åŒä¸€ä¸ªå¯¹è±¡çš„ä¸åŒçš„è¡Œä¸ºï¼Œå†…è•´çŠ¶æ€å’Œå¤–è•°çŠ¶æ€æ˜¯ç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å½±å“çš„ã€‚</p>
<p>äº«å…ƒæ¨¡å¼ä¸»è¦è¿™å‡ ä¸‰ä¸ªéƒ¨åˆ†ï¼šæŠ½è±¡äº«å…ƒç±»ï¼Œå…·ä½“äº«å…ƒç±»å’Œäº«å…ƒå·¥å‚ç±»ã€‚å…·ä½“å¯ä»¥å‚è€ƒä¸‹é¢ä»£ç ã€‚</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190613005252.png" alt="äº«å…ƒæ¨¡å¼"></p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>åœ¨Javaä¸­ï¼ŒStringç±»å°±ç¬¦åˆäº«å…ƒæ¨¡å¼ï¼Œ<code>string a = &quot;aa&quot;</code> å’Œ <code>string b =&quot;aa&quot;</code> æ˜¯ç›¸ç­‰çš„ã€‚</p>
<p>åœ¨ä¸‹é¢ä¾‹å­ä¸­ï¼Œæ„é€ æŠ½è±¡äº«å…ƒç±»â€œMyStringâ€ å’Œå®ƒçš„å…·ä½“å®ç°ç±»ï¼Œä½¿ç”¨åˆ°ç›¸åŒçš„å¯¹è±¡ï¼Œå› ä¸ºäº«å…ƒæ¨¡å¼ï¼Œå¯ä»¥å¯¹è¿™äº›å¯¹è±¡è¿›è¡Œå…±äº«ä½¿ç”¨ã€‚</p>
<p>ç¬¬ä¸€éƒ¨åˆ†ï¼šæŠ½è±¡äº«å…ƒç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">MyString</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">create</span><span class="params">(String outerState)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æšä¸¾ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> InstanceType &#123;</span><br><span class="line">    INSTANCE1,INSTANCE2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒéƒ¨åˆ†ï¼šå…·ä½“äº«å…ƒç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringIns1</span> <span class="keyword">implements</span> <span class="title">MyString</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å†…éƒ¨çŠ¶æ€ï¼Œä¸å¯éšæ—¶å˜åŒ–çš„</span></span><br><span class="line">    String innerState;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StringIns1</span><span class="params">(String innerState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.innerState = innerState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">create</span><span class="params">(String outerState)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"create instance 1 -&gt; innerState:"</span>+<span class="keyword">this</span>.innerState);</span><br><span class="line">        <span class="comment">//å¤–éƒ¨çŠ¶æ€ï¼Œéœ€è¦å®¢æˆ·ç«¯ä¼ è¿›æ¥ï¼Œè¿™ä¸ªå€¼æ˜¯å¯å˜åŒ–çš„</span></span><br><span class="line">        System.out.println(<span class="string">"create instance 1 -&gt; outerState:"</span>+outerState);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringIns2</span> <span class="keyword">implements</span> <span class="title">MyString</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    String innerState;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StringIns2</span><span class="params">(String innerState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.innerState = innerState;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">create</span><span class="params">(String outerState)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"create instance 2 -&gt; innerState:"</span>+<span class="keyword">this</span>.innerState);</span><br><span class="line">        System.out.println(<span class="string">"create instance 2 -&gt; outerState:"</span>+outerState);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šäº«å…ƒå·¥å‚ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FlyWeight</span> </span>&#123;</span><br><span class="line">    Map&lt;InstanceType,MyString&gt; store;</span><br><span class="line"></span><br><span class="line">    FlyWeight() &#123;</span><br><span class="line">        store = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MyString <span class="title">factory</span><span class="params">(InstanceType instanceType)</span></span>&#123;</span><br><span class="line">        MyString curr = store.get(instanceType);</span><br><span class="line">        <span class="keyword">if</span>(curr == <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">// å¦‚æœå¯¹è±¡ä¸å­˜åœ¨ï¼Œæ–°å»ºå¯¹åº”çš„å¯¹è±¡</span></span><br><span class="line">            <span class="keyword">if</span>(instanceType.equals(InstanceType.INSTANCE1))&#123;</span><br><span class="line">            <span class="comment">// æ ¹æ®å†…éƒ¨çŠ¶æ€å†³å®šç”Ÿæˆå“ªä¸ªç±»å‹çš„å­ç±»</span></span><br><span class="line">                curr= <span class="keyword">new</span> StringIns1(instanceType.toString());</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(instanceType.equals(InstanceType.INSTANCE2))&#123;</span><br><span class="line">                curr= <span class="keyword">new</span> StringIns2(instanceType.toString());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        store.put(instanceType,curr);</span><br><span class="line">        <span class="keyword">return</span> curr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬å››éƒ¨åˆ†ï¼šå®¢æˆ·ç«¯è°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        FlyWeight flyWeight = <span class="keyword">new</span> FlyWeight();</span><br><span class="line">        MyString ins1 = flyWeight.factory(InstanceType.INSTANCE1);</span><br><span class="line">        MyString ins2 = flyWeight.factory(InstanceType.INSTANCE1);</span><br><span class="line">        System.out.println(ins1.equals(ins2));<span class="comment">//true æ˜¯åŒä¸€ä¸ªå¯¹è±¡ å†…éƒ¨çŠ¶æ€ç›¸åŒ</span></span><br><span class="line">        ins1.create(<span class="string">"*****"</span>); <span class="comment">//é’ˆå¯¹å¤–éƒ¨çŠ¶æ€æ‰“å°ä¸åŒå†…å®¹</span></span><br><span class="line">        ins2.create(<span class="string">"-----"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">true</span><br><span class="line">create instance 1 -&gt; innerState:INSTANCE1</span><br><span class="line">create instance 1 -&gt; outerState:*****</span><br><span class="line">create instance 1 -&gt; innerState:INSTANCE1</span><br><span class="line">create instance 1 -&gt; outerState:-----</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2019-06-12T12:00:00.000Z" title="2019-06-12T12:00:00.000Z">2019-06-12</time><span class="level-item"> NanYin </span><span class="level-item"><a class="link-muted" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼</a></span><span class="level-item">4 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 597 ä¸ªå­—)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/06/12/2019-06-12-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F/">è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼</a></h1><div class="content"><h1 id="è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼ä¹‹å¤–è§‚æ¨¡å¼</h1><p>å¤–éƒ¨ä¸ä¸€ä¸ªå­ç³»ç»Ÿçš„é€šä¿¡å¿…é¡»é€šè¿‡ä¸€ä¸ªç»Ÿä¸€çš„å¤–è§‚å¯¹è±¡è¿›è¡Œï¼Œä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œä½¿å­ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><ul>
<li>å› ä¸ºå­ç³»ç»Ÿéšç€å‘å±•ä¼šå˜æ›´çš„æ›´å¤æ‚ï¼Œå®¢æˆ·ç«¯æƒ³æ›´ç®€å•ç»Ÿä¸€ç»™å­ç³»ç»Ÿå»ºç«‹ä¸€ä¸ªå…¬å…±çš„è°ƒç”¨æ–¹å¼ã€‚è¿™æ ·å³ä½¿å­ç³»ç»Ÿçš„å†å¢åŠ å¯é‡ç”¨æ€§è€Œå˜å¾—æ›´åŠ å¤æ‚ï¼Œå®¢æˆ·ç«¯ä¹Ÿä¸å¿…çŸ¥é“ï¼Œå› ä¸ºå®¢æˆ·ç«¯å¾€å¾€ä¸éœ€è¦é’ˆå¯¹æŸä¸€ä¸ªå­ç³»ç»Ÿè¿›è¡Œç‰¹å®šçš„å®šåˆ¶åŒ–ã€‚</li>
<li>å®ç°äº†å­ç³»ç»Ÿä¸å®¢æˆ·ä¹‹é—´çš„æ¾è€¦åˆå…³ç³»ï¼Œè¿™ä½¿å¾—å­ç³»ç»Ÿçš„ç»„ä»¶å˜åŒ–ä¸ä¼šå½±å“åˆ°è°ƒç”¨å®ƒçš„å®¢æˆ·ç±»ï¼Œåªéœ€è¦è°ƒæ•´å¤–è§‚ç±»å³å¯ã€‚</li>
</ul>
<h2 id="æ¨¡å¼ç»“æ„"><a href="#æ¨¡å¼ç»“æ„" class="headerlink" title="æ¨¡å¼ç»“æ„"></a>æ¨¡å¼ç»“æ„</h2><p>å¤–è§‚æ¨¡å¼ä¸­å®¢æˆ·ç«¯ä¾é Facadeç±»æ¥è°ƒç”¨å¤šä¸ªå­ç³»ç»Ÿï¼Œæ¥è¾¾åˆ°ç®€åŒ–å®¢æˆ·ç«¯è°ƒç”¨çš„ç›®çš„ã€‚</p>
<p><img src="https://raw.githubusercontent.com/NanYinIU/PicRoom/master/img/20190613005252.png" alt="å¤–è§‚æ¨¡å¼"></p>
<p>ä¾‹å­ä¸­ï¼Œæ¯æ¬¡å¼€æœºçš„æ—¶å€™éƒ½è¦å¯åŠ¨mysql,apacheæœåŠ¡ï¼Œä¸¤ä¸ªè¿˜å¥½ï¼Œè¦æ˜¯æœ‰æ›´å¤šæœåŠ¡å²‚ä¸æ˜¯å¾ˆæ¼äººï¼Œæ¯æ¬¡éƒ½è¦æ•²ä¸€å¤§å †å‘½ä»¤æ¥å¼€å¯æœåŠ¡ã€‚è¿™æ—¶å€™å¯ä»¥ä½¿ç”¨å¤–è§‚æ¨¡å¼ï¼Œå°†æ‰€æœ‰æœåŠ¡åŠ å…¥åˆ°å¤–è§‚ç±»ä¸­ï¼Œæ¯æ¬¡å¼€æœºåªç”¨è°ƒç”¨å¤–è§‚ç±»ä¸­çš„æ¥å£å°±è¡Œäº†ã€‚æ¥è¾¾åˆ°ç®€åŒ–å®¢æˆ·ç«¯ä½¿ç”¨çš„ç›®çš„ã€‚</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>ç¬¬ä¸€éƒ¨åˆ†ï¼šå­ç³»ç»Ÿæ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Services</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">start</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">restart</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// mysql æœåŠ¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MysqlService</span> <span class="keyword">implements</span> <span class="title">Services</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"mysql is started"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"mysql is stopped"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">restart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"mysql is restart"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// apache æœåŠ¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApacheService</span> <span class="keyword">implements</span> <span class="title">Services</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"apache is started"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"apache is stopped"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">restart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"apache is restart"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒéƒ¨åˆ†ï¼šå¤–è§‚ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Facade</span> </span>&#123;</span><br><span class="line">    List&lt;Services&gt; services;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Facade</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        services = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addService</span><span class="params">(Services services)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.services.add(services);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Services services : <span class="keyword">this</span>.services)&#123;</span><br><span class="line">            services.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Services services : <span class="keyword">this</span>.services)&#123;</span><br><span class="line">            services.stop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">restart</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Services services : <span class="keyword">this</span>.services)&#123;</span><br><span class="line">            services.restart();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸‰éƒ¨åˆ†ï¼šå®¢æˆ·ç«¯è°ƒç”¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Facade facade = <span class="keyword">new</span> Facade();</span><br><span class="line">        facade.addService(<span class="keyword">new</span> MysqlService());</span><br><span class="line">        facade.addService(<span class="keyword">new</span> ApacheService());</span><br><span class="line">        facade.start();</span><br><span class="line">        facade.stop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql is started</span><br><span class="line">apache is started</span><br><span class="line">mysql is stopped</span><br><span class="line">apache is stopped</span><br></pre></td></tr></table></figure>

</div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/page/0/">ä¸Šä¸€é¡µ</a></div><div class="pagination-next"><a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/page/2/">ä¸‹ä¸€é¡µ</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">1</a></li><li><a class="pagination-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/page/2/">2</a></li><li><a class="pagination-link" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/page/3/">3</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/img/avatar.jpeg" alt="NanYin"></figure><p class="title is-size-4 is-block line-height-inherit">NanYin</p><p class="is-size-6 is-block">not now</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Beijing,China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ–‡ç« </p><a href="/archives"><p class="title">102</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">åˆ†ç±»</p><a href="/categories"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">æ ‡ç­¾</p><a href="/tags"><p class="title">16</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/nanyiniu" target="_blank" rel="noopener">å…³æ³¨æˆ‘</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/nanyiniu"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">é“¾æ¥</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">åˆ†ç±»</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Bash/"><span class="level-start"><span class="level-item">Bash</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Hibernate/"><span class="level-start"><span class="level-item">Hibernate</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Java/"><span class="level-start"><span class="level-item">Java</span></span><span class="level-end"><span class="level-item tag">19</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Java/JVM/"><span class="level-start"><span class="level-item">JVM</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Java/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"><span class="level-start"><span class="level-item">å¤šçº¿ç¨‹</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/MYSQL/"><span class="level-start"><span class="level-item">MYSQL</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Markdown/"><span class="level-start"><span class="level-item">Markdown</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Spring/"><span class="level-start"><span class="level-item">Spring</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/SpringBoot/"><span class="level-start"><span class="level-item">SpringBoot</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"><span class="level-start"><span class="level-item">å¤šçº¿ç¨‹</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E5%B7%A5%E5%85%B7/"><span class="level-start"><span class="level-item">å·¥å…·</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="level-start"><span class="level-item">è®¾è®¡æ¨¡å¼</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">æœ€æ–°æ–‡ç« </h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-16T00:00:00.000Z">2020-04-16</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/16/Java%E7%9A%84%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D/">Javaçš„æ·±æ‹·è´å’Œæµ…æ‹·è´</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Java/">Java</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-05T00:00:00.000Z">2020-04-05</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/05/Jav%20IO%E6%B5%85%E6%9E%90/">Java IOæµ…æ</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Java/">Java</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-03-29T00:00:00.000Z">2020-03-29</time></p><p class="title is-6"><a class="link-muted" href="/2020/03/29/%E7%BA%BF%E7%A8%8B%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/">çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸ</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Java/">Java</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-03-28T12:00:00.000Z">2020-03-28</time></p><p class="title is-6"><a class="link-muted" href="/2020/03/28/%E4%BD%8D%E8%BF%90%E7%AE%97/">Javaä¸­çš„ä½è¿ç®—</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Java/">Java</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-03-23T19:45:00.000Z">2020-03-23</time></p><p class="title is-6"><a class="link-muted" href="/2020/03/24/Lambda%20expression/">lambdaè¡¨è¾¾å¼å­¦ä¹ å’Œåº”ç”¨</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Java/">Java</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">å½’æ¡£</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">å››æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/03/"><span class="level-start"><span class="level-item">ä¸‰æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/01/"><span class="level-start"><span class="level-item">ä¸€æœˆ 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">åäºŒæœˆ 2019</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/08/"><span class="level-start"><span class="level-item">å…«æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/07/"><span class="level-start"><span class="level-item">ä¸ƒæœˆ 2019</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/06/"><span class="level-start"><span class="level-item">å…­æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">18</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">äº”æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/04/"><span class="level-start"><span class="level-item">å››æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/01/"><span class="level-start"><span class="level-item">ä¸€æœˆ 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/12/"><span class="level-start"><span class="level-item">åäºŒæœˆ 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/11/"><span class="level-start"><span class="level-item">åä¸€æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/10/"><span class="level-start"><span class="level-item">åæœˆ 2018</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/07/"><span class="level-start"><span class="level-item">ä¸ƒæœˆ 2018</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/06/"><span class="level-start"><span class="level-item">å…­æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/05/"><span class="level-start"><span class="level-item">äº”æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/04/"><span class="level-start"><span class="level-item">å››æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/01/"><span class="level-start"><span class="level-item">ä¸€æœˆ 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">æ ‡ç­¾</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/JVM/"><span class="tag">JVM</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag is-grey-lightest">69</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag is-grey-lightest">23</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MYSQL/"><span class="tag">MYSQL</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Spring/"><span class="tag">Spring</span><span class="tag is-grey-lightest">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SpringBoot/"><span class="tag">SpringBoot</span><span class="tag is-grey-lightest">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Thread/"><span class="tag">Thread</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UML/"><span class="tag">UML</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bash/"><span class="tag">bash</span><span class="tag is-grey-lightest">17</span></a></div><div class="control"><a class="tags has-addons" href="/tags/idea/"><span class="tag">idea</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/markdown/"><span class="tag">markdown</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9F%BA%E7%A1%80/"><span class="tag">åŸºç¡€</span><span class="tag is-grey-lightest">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B7%A5%E5%85%B7/"><span class="tag">å·¥å…·</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"><span class="tag">æ­£åˆ™è¡¨è¾¾å¼</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"><span class="tag">è®¾è®¡æ¨¡å¼</span><span class="tag is-grey-lightest">21</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AF%AD%E6%B3%95/"><span class="tag">è¯­æ³•</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">è®¢é˜…æ›´æ–°</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="è®¢é˜…"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/Fail.png" alt="NanYinçš„åšå®¢" height="28"></a><p class="size-small"><span>&copy; 2020 NanYin</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="My GitHub" href="https://github.com/NanYinIU"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'https://nanyiniu.github.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ...","untitled":"(æ— æ ‡é¢˜)","posts":"æ–‡ç« ","pages":"é¡µé¢","categories":"åˆ†ç±»","tags":"æ ‡ç­¾"});
        });</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>